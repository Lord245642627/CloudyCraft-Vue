{"ast":null,"code":"import * as d3 from 'd3';\nimport { addLabel } from './label/add-label.js';\nimport * as util from './util.js';\nexport { createClusters, setCreateClusters };\n\nvar createClusters = function (selection, g) {\n  var clusters = g.nodes().filter(function (v) {\n    return util.isSubgraph(g, v);\n  });\n  var svgClusters = selection.selectAll('g.cluster').data(clusters, function (v) {\n    return v;\n  });\n  util.applyTransition(svgClusters.exit(), g).style('opacity', 0).remove();\n  var enterSelection = svgClusters.enter().append('g').attr('class', 'cluster').attr('id', function (v) {\n    var node = g.node(v);\n    return node.id;\n  }).style('opacity', 0).each(function (v) {\n    var node = g.node(v);\n    var thisGroup = d3.select(this);\n    d3.select(this).append('rect');\n    var labelGroup = thisGroup.append('g').attr('class', 'label');\n    addLabel(labelGroup, node, node.clusterLabelPos);\n  });\n  svgClusters = svgClusters.merge(enterSelection);\n  svgClusters = util.applyTransition(svgClusters, g).style('opacity', 1);\n  svgClusters.selectAll('rect').each(function (c) {\n    var node = g.node(c);\n    var domCluster = d3.select(this);\n    util.applyStyle(domCluster, node.style);\n  });\n  return svgClusters;\n};\n\nfunction setCreateClusters(value) {\n  createClusters = value;\n}","map":null,"metadata":{},"sourceType":"module"}