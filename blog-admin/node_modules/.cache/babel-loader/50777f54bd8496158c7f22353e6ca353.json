{"ast":null,"code":"var render = function render() {\n  var _vm = this,\n      _c = _vm._self._c;\n\n  return _c('el-card', {\n    staticClass: \"main-card\"\n  }, [_c('div', {\n    staticClass: \"title\"\n  }, [_vm._v(_vm._s(this.$route.name))]), _c('div', {\n    staticClass: \"article-title-container\"\n  }, [_c('el-input', {\n    attrs: {\n      \"size\": \"medium\",\n      \"placeholder\": \"输入文章标题\"\n    },\n    model: {\n      value: _vm.article.articleTitle,\n      callback: function ($$v) {\n        _vm.$set(_vm.article, \"articleTitle\", $$v);\n      },\n      expression: \"article.articleTitle\"\n    }\n  }), _vm.article.id == null || _vm.article.status == 3 ? _c('el-button', {\n    staticClass: \"save-btn\",\n    attrs: {\n      \"type\": \"danger\",\n      \"size\": \"medium\"\n    },\n    on: {\n      \"click\": _vm.saveArticleDraft\n    }\n  }, [_vm._v(\" 保存草稿 \")]) : _vm._e(), _c('el-button', {\n    staticStyle: {\n      \"margin-left\": \"10px\"\n    },\n    attrs: {\n      \"type\": \"danger\",\n      \"size\": \"medium\"\n    },\n    on: {\n      \"click\": _vm.openModel\n    }\n  }, [_vm._v(\" 发布文章 \")])], 1), _c('mavon-editor', {\n    ref: \"md\",\n    staticStyle: {\n      \"height\": \"calc(100vh - 260px)\"\n    },\n    on: {\n      \"imgAdd\": _vm.uploadImg\n    },\n    model: {\n      value: _vm.article.articleContent,\n      callback: function ($$v) {\n        _vm.$set(_vm.article, \"articleContent\", $$v);\n      },\n      expression: \"article.articleContent\"\n    }\n  }), _c('el-dialog', {\n    attrs: {\n      \"visible\": _vm.addOrEdit,\n      \"width\": \"40%\",\n      \"top\": \"3vh\"\n    },\n    on: {\n      \"update:visible\": function ($event) {\n        _vm.addOrEdit = $event;\n      }\n    }\n  }, [_c('div', {\n    staticClass: \"dialog-title-container\",\n    attrs: {\n      \"slot\": \"title\"\n    },\n    slot: \"title\"\n  }, [_vm._v(\"发布文章\")]), _c('el-form', {\n    attrs: {\n      \"label-width\": \"80px\",\n      \"size\": \"medium\",\n      \"model\": _vm.article\n    }\n  }, [_c('el-form-item', {\n    attrs: {\n      \"label\": \"文章分类\"\n    }\n  }, [_c('el-tag', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: _vm.article.categoryName,\n      expression: \"article.categoryName\"\n    }],\n    staticStyle: {\n      \"margin\": \"0 1rem 0 0\"\n    },\n    attrs: {\n      \"type\": \"success\",\n      \"closable\": true\n    },\n    on: {\n      \"close\": _vm.removeCategory\n    }\n  }, [_vm._v(\" \" + _vm._s(_vm.article.categoryName) + \" \")]), !_vm.article.categoryName ? _c('el-popover', {\n    attrs: {\n      \"placement\": \"bottom-start\",\n      \"width\": \"460\",\n      \"trigger\": \"click\"\n    }\n  }, [_c('div', {\n    staticClass: \"popover-title\"\n  }, [_vm._v(\"分类\")]), _c('el-autocomplete', {\n    staticStyle: {\n      \"width\": \"100%\"\n    },\n    attrs: {\n      \"fetch-suggestions\": _vm.searchCategories,\n      \"placeholder\": \"请输入分类名搜索，enter可添加自定义分类\",\n      \"trigger-on-focus\": false\n    },\n    on: {\n      \"select\": _vm.handleSelectCategories\n    },\n    nativeOn: {\n      \"keyup\": function ($event) {\n        if (!$event.type.indexOf('key') && _vm._k($event.keyCode, \"enter\", 13, $event.key, \"Enter\")) return null;\n        return _vm.saveCategory.apply(null, arguments);\n      }\n    },\n    scopedSlots: _vm._u([{\n      key: \"default\",\n      fn: function ({\n        item\n      }) {\n        return [_c('div', [_vm._v(_vm._s(item.categoryName))])];\n      }\n    }], null, false, 902057188),\n    model: {\n      value: _vm.categoryName,\n      callback: function ($$v) {\n        _vm.categoryName = $$v;\n      },\n      expression: \"categoryName\"\n    }\n  }), _c('div', {\n    staticClass: \"popover-container\"\n  }, _vm._l(_vm.categorys, function (item) {\n    return _c('div', {\n      key: item.id,\n      staticClass: \"category-item\",\n      on: {\n        \"click\": function ($event) {\n          return _vm.addCategory(item);\n        }\n      }\n    }, [_vm._v(\" \" + _vm._s(item.categoryName) + \" \")]);\n  }), 0), _c('el-button', {\n    attrs: {\n      \"slot\": \"reference\",\n      \"type\": \"success\",\n      \"plain\": \"\",\n      \"size\": \"small\"\n    },\n    slot: \"reference\"\n  }, [_vm._v(\" 添加分类 \")])], 1) : _vm._e()], 1), _c('el-form-item', {\n    attrs: {\n      \"label\": \"文章标签\"\n    }\n  }, [_vm._l(_vm.article.tagNames, function (item, index) {\n    return _c('el-tag', {\n      key: index,\n      staticStyle: {\n        \"margin\": \"0 1rem 0 0\"\n      },\n      attrs: {\n        \"closable\": true\n      },\n      on: {\n        \"close\": function ($event) {\n          return _vm.removeTag(item);\n        }\n      }\n    }, [_vm._v(\" \" + _vm._s(item) + \" \")]);\n  }), _vm.article.tagNames.length < 3 ? _c('el-popover', {\n    attrs: {\n      \"placement\": \"bottom-start\",\n      \"width\": \"460\",\n      \"trigger\": \"click\"\n    }\n  }, [_c('div', {\n    staticClass: \"popover-title\"\n  }, [_vm._v(\"标签\")]), _c('el-autocomplete', {\n    staticStyle: {\n      \"width\": \"100%\"\n    },\n    attrs: {\n      \"fetch-suggestions\": _vm.searchTags,\n      \"placeholder\": \"请输入标签名搜索，enter可添加自定义标签\",\n      \"trigger-on-focus\": false\n    },\n    on: {\n      \"select\": _vm.handleSelectTag\n    },\n    nativeOn: {\n      \"keyup\": function ($event) {\n        if (!$event.type.indexOf('key') && _vm._k($event.keyCode, \"enter\", 13, $event.key, \"Enter\")) return null;\n        return _vm.saveTag.apply(null, arguments);\n      }\n    },\n    scopedSlots: _vm._u([{\n      key: \"default\",\n      fn: function ({\n        item\n      }) {\n        return [_c('div', [_vm._v(_vm._s(item.tagName))])];\n      }\n    }], null, false, 3390268870),\n    model: {\n      value: _vm.tagName,\n      callback: function ($$v) {\n        _vm.tagName = $$v;\n      },\n      expression: \"tagName\"\n    }\n  }), _c('div', {\n    staticClass: \"popover-container\"\n  }, [_c('div', {\n    staticStyle: {\n      \"margin-bottom\": \"1rem\"\n    }\n  }, [_vm._v(\"添加标签\")]), _vm._l(_vm.tagList, function (item, index) {\n    return _c('el-tag', {\n      key: index,\n      class: _vm.tagClass(item),\n      on: {\n        \"click\": function ($event) {\n          return _vm.addTag(item);\n        }\n      }\n    }, [_vm._v(\" \" + _vm._s(item.tagName) + \" \")]);\n  })], 2), _c('el-button', {\n    attrs: {\n      \"slot\": \"reference\",\n      \"type\": \"primary\",\n      \"plain\": \"\",\n      \"size\": \"small\"\n    },\n    slot: \"reference\"\n  }, [_vm._v(\" 添加标签 \")])], 1) : _vm._e()], 2), _c('el-form-item', {\n    attrs: {\n      \"label\": \"文章类型\"\n    }\n  }, [_c('el-select', {\n    attrs: {\n      \"placeholder\": \"请选择类型\"\n    },\n    model: {\n      value: _vm.article.type,\n      callback: function ($$v) {\n        _vm.$set(_vm.article, \"type\", $$v);\n      },\n      expression: \"article.type\"\n    }\n  }, _vm._l(_vm.typeList, function (item) {\n    return _c('el-option', {\n      key: item.type,\n      attrs: {\n        \"label\": item.desc,\n        \"value\": item.type\n      }\n    });\n  }), 1)], 1), _vm.article.type != 1 ? _c('el-form-item', {\n    attrs: {\n      \"label\": \"原文地址\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"placeholder\": \"请填写原文链接\"\n    },\n    model: {\n      value: _vm.article.originalUrl,\n      callback: function ($$v) {\n        _vm.$set(_vm.article, \"originalUrl\", $$v);\n      },\n      expression: \"article.originalUrl\"\n    }\n  })], 1) : _vm._e(), _c('el-form-item', {\n    attrs: {\n      \"label\": \"上传封面\"\n    }\n  }, [_c('el-upload', {\n    staticClass: \"upload-cover\",\n    attrs: {\n      \"drag\": \"\",\n      \"action\": \"/api/admin/articles/images\",\n      \"multiple\": \"\",\n      \"headers\": _vm.headers,\n      \"before-upload\": _vm.beforeUpload,\n      \"on-success\": _vm.uploadCover\n    }\n  }, [_vm.article.articleCover == '' ? _c('i', {\n    staticClass: \"el-icon-upload\"\n  }) : _vm._e(), _vm.article.articleCover == '' ? _c('div', {\n    staticClass: \"el-upload__text\"\n  }, [_vm._v(\"将文件拖到此处，或\"), _c('em', [_vm._v(\"点击上传\")])]) : _c('img', {\n    attrs: {\n      \"src\": _vm.article.articleCover,\n      \"width\": \"360px\",\n      \"height\": \"180px\"\n    }\n  })])], 1), _c('el-form-item', {\n    attrs: {\n      \"label\": \"置顶\"\n    }\n  }, [_c('el-switch', {\n    attrs: {\n      \"active-color\": \"#13ce66\",\n      \"inactive-color\": \"#F4F4F5\",\n      \"active-value\": 1,\n      \"inactive-value\": 0\n    },\n    model: {\n      value: _vm.article.isTop,\n      callback: function ($$v) {\n        _vm.$set(_vm.article, \"isTop\", $$v);\n      },\n      expression: \"article.isTop\"\n    }\n  })], 1), _c('el-form-item', {\n    attrs: {\n      \"label\": \"推荐\"\n    }\n  }, [_c('el-switch', {\n    attrs: {\n      \"active-color\": \"#13ce66\",\n      \"inactive-color\": \"#F4F4F5\",\n      \"active-value\": 1,\n      \"inactive-value\": 0\n    },\n    model: {\n      value: _vm.article.isFeatured,\n      callback: function ($$v) {\n        _vm.$set(_vm.article, \"isFeatured\", $$v);\n      },\n      expression: \"article.isFeatured\"\n    }\n  })], 1), _c('el-form-item', {\n    attrs: {\n      \"label\": \"发布形式\"\n    }\n  }, [_c('el-radio-group', {\n    model: {\n      value: _vm.article.status,\n      callback: function ($$v) {\n        _vm.$set(_vm.article, \"status\", $$v);\n      },\n      expression: \"article.status\"\n    }\n  }, [_c('el-radio', {\n    attrs: {\n      \"label\": 1\n    }\n  }, [_vm._v(\"公开\")]), _c('el-radio', {\n    attrs: {\n      \"label\": 2\n    }\n  }, [_vm._v(\"密码\")])], 1)], 1), _vm.article.status == 2 ? _c('el-form-item', {\n    attrs: {\n      \"label\": \"访问密码\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"placeholder\": \"请填写文章访问密码\"\n    },\n    model: {\n      value: _vm.article.password,\n      callback: function ($$v) {\n        _vm.$set(_vm.article, \"password\", $$v);\n      },\n      expression: \"article.password\"\n    }\n  })], 1) : _vm._e(), _c('el-form-item', {\n    attrs: {\n      \"label\": \"文章摘要\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"type\": \"textarea\",\n      \"autosize\": \"true\",\n      \"placeholder\": \"默认取文章前500个字符\"\n    },\n    model: {\n      value: _vm.article.articleAbstract,\n      callback: function ($$v) {\n        _vm.$set(_vm.article, \"articleAbstract\", $$v);\n      },\n      expression: \"article.articleAbstract\"\n    }\n  })], 1)], 1), _c('div', {\n    attrs: {\n      \"slot\": \"footer\"\n    },\n    slot: \"footer\"\n  }, [_c('el-button', {\n    on: {\n      \"click\": function ($event) {\n        _vm.addOrEdit = false;\n      }\n    }\n  }, [_vm._v(\"取 消\")]), _c('el-button', {\n    attrs: {\n      \"type\": \"danger\"\n    },\n    on: {\n      \"click\": _vm.saveOrUpdateArticle\n    }\n  }, [_vm._v(\" 发 表 \")])], 1)], 1)], 1);\n};\n\nvar staticRenderFns = [];\nexport { render, staticRenderFns };","map":null,"metadata":{},"sourceType":"module"}