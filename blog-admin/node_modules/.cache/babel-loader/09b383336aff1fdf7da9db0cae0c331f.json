{"ast":null,"code":"import * as util from '../util.js';\nexport { addTextLabel };\n/*\n * Attaches a text label to the specified root. Handles escape sequences.\n */\n\nfunction addTextLabel(root, node) {\n  var domNode = root.append('text');\n  var lines = processEscapeSequences(node.label).split('\\n');\n\n  for (var i = 0; i < lines.length; i++) {\n    domNode.append('tspan').attr('xml:space', 'preserve').attr('dy', '1em').attr('x', '1').text(lines[i]);\n  }\n\n  util.applyStyle(domNode, node.labelStyle);\n  return domNode;\n}\n\nfunction processEscapeSequences(text) {\n  var newText = '';\n  var escaped = false;\n  var ch;\n\n  for (var i = 0; i < text.length; ++i) {\n    ch = text[i];\n\n    if (escaped) {\n      switch (ch) {\n        case 'n':\n          newText += '\\n';\n          break;\n\n        default:\n          newText += ch;\n      }\n\n      escaped = false;\n    } else if (ch === '\\\\') {\n      escaped = true;\n    } else {\n      newText += ch;\n    }\n  }\n\n  return newText;\n}","map":null,"metadata":{},"sourceType":"module"}