{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.sanitizeUrl = exports.BLANK_URL = void 0;\nvar invalidProtocolRegex = /^([^\\w]*)(javascript|data|vbscript)/im;\nvar htmlEntitiesRegex = /&#(\\w+)(^\\w|;)?/g;\nvar htmlCtrlEntityRegex = /&(newline|tab);/gi;\nvar ctrlCharactersRegex = /[\\u0000-\\u001F\\u007F-\\u009F\\u2000-\\u200D\\uFEFF]/gim;\nvar urlSchemeRegex = /^.+(:|&colon;)/gim;\nvar relativeFirstCharacters = [\".\", \"/\"];\nexports.BLANK_URL = \"about:blank\";\n\nfunction isRelativeUrlWithoutProtocol(url) {\n  return relativeFirstCharacters.indexOf(url[0]) > -1;\n} // adapted from https://stackoverflow.com/a/29824550/2601552\n\n\nfunction decodeHtmlCharacters(str) {\n  var removedNullByte = str.replace(ctrlCharactersRegex, \"\");\n  return removedNullByte.replace(htmlEntitiesRegex, function (match, dec) {\n    return String.fromCharCode(dec);\n  });\n}\n\nfunction sanitizeUrl(url) {\n  if (!url) {\n    return exports.BLANK_URL;\n  }\n\n  var sanitizedUrl = decodeHtmlCharacters(url).replace(htmlCtrlEntityRegex, \"\").replace(ctrlCharactersRegex, \"\").trim();\n\n  if (!sanitizedUrl) {\n    return exports.BLANK_URL;\n  }\n\n  if (isRelativeUrlWithoutProtocol(sanitizedUrl)) {\n    return sanitizedUrl;\n  }\n\n  var urlSchemeParseResults = sanitizedUrl.match(urlSchemeRegex);\n\n  if (!urlSchemeParseResults) {\n    return sanitizedUrl;\n  }\n\n  var urlScheme = urlSchemeParseResults[0];\n\n  if (invalidProtocolRegex.test(urlScheme)) {\n    return exports.BLANK_URL;\n  }\n\n  return sanitizedUrl;\n}\n\nexports.sanitizeUrl = sanitizeUrl;","map":{"version":3,"names":["Object","defineProperty","exports","value","sanitizeUrl","BLANK_URL","invalidProtocolRegex","htmlEntitiesRegex","htmlCtrlEntityRegex","ctrlCharactersRegex","urlSchemeRegex","relativeFirstCharacters","isRelativeUrlWithoutProtocol","url","indexOf","decodeHtmlCharacters","str","removedNullByte","replace","match","dec","String","fromCharCode","sanitizedUrl","trim","urlSchemeParseResults","urlScheme","test"],"sources":["/Users/lord/Documents/Programmer/vue/VueProjects/cloudycraft-vue/blog-admin/node_modules/@braintree/sanitize-url/dist/index.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.sanitizeUrl = exports.BLANK_URL = void 0;\nvar invalidProtocolRegex = /^([^\\w]*)(javascript|data|vbscript)/im;\nvar htmlEntitiesRegex = /&#(\\w+)(^\\w|;)?/g;\nvar htmlCtrlEntityRegex = /&(newline|tab);/gi;\nvar ctrlCharactersRegex = /[\\u0000-\\u001F\\u007F-\\u009F\\u2000-\\u200D\\uFEFF]/gim;\nvar urlSchemeRegex = /^.+(:|&colon;)/gim;\nvar relativeFirstCharacters = [\".\", \"/\"];\nexports.BLANK_URL = \"about:blank\";\nfunction isRelativeUrlWithoutProtocol(url) {\n    return relativeFirstCharacters.indexOf(url[0]) > -1;\n}\n// adapted from https://stackoverflow.com/a/29824550/2601552\nfunction decodeHtmlCharacters(str) {\n    var removedNullByte = str.replace(ctrlCharactersRegex, \"\");\n    return removedNullByte.replace(htmlEntitiesRegex, function (match, dec) {\n        return String.fromCharCode(dec);\n    });\n}\nfunction sanitizeUrl(url) {\n    if (!url) {\n        return exports.BLANK_URL;\n    }\n    var sanitizedUrl = decodeHtmlCharacters(url)\n        .replace(htmlCtrlEntityRegex, \"\")\n        .replace(ctrlCharactersRegex, \"\")\n        .trim();\n    if (!sanitizedUrl) {\n        return exports.BLANK_URL;\n    }\n    if (isRelativeUrlWithoutProtocol(sanitizedUrl)) {\n        return sanitizedUrl;\n    }\n    var urlSchemeParseResults = sanitizedUrl.match(urlSchemeRegex);\n    if (!urlSchemeParseResults) {\n        return sanitizedUrl;\n    }\n    var urlScheme = urlSchemeParseResults[0];\n    if (invalidProtocolRegex.test(urlScheme)) {\n        return exports.BLANK_URL;\n    }\n    return sanitizedUrl;\n}\nexports.sanitizeUrl = sanitizeUrl;\n"],"mappings":"AAAA;;AACAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;EAAEC,KAAK,EAAE;AAAT,CAA7C;AACAD,OAAO,CAACE,WAAR,GAAsBF,OAAO,CAACG,SAAR,GAAoB,KAAK,CAA/C;AACA,IAAIC,oBAAoB,GAAG,uCAA3B;AACA,IAAIC,iBAAiB,GAAG,kBAAxB;AACA,IAAIC,mBAAmB,GAAG,mBAA1B;AACA,IAAIC,mBAAmB,GAAG,oDAA1B;AACA,IAAIC,cAAc,GAAG,mBAArB;AACA,IAAIC,uBAAuB,GAAG,CAAC,GAAD,EAAM,GAAN,CAA9B;AACAT,OAAO,CAACG,SAAR,GAAoB,aAApB;;AACA,SAASO,4BAAT,CAAsCC,GAAtC,EAA2C;EACvC,OAAOF,uBAAuB,CAACG,OAAxB,CAAgCD,GAAG,CAAC,CAAD,CAAnC,IAA0C,CAAC,CAAlD;AACH,C,CACD;;;AACA,SAASE,oBAAT,CAA8BC,GAA9B,EAAmC;EAC/B,IAAIC,eAAe,GAAGD,GAAG,CAACE,OAAJ,CAAYT,mBAAZ,EAAiC,EAAjC,CAAtB;EACA,OAAOQ,eAAe,CAACC,OAAhB,CAAwBX,iBAAxB,EAA2C,UAAUY,KAAV,EAAiBC,GAAjB,EAAsB;IACpE,OAAOC,MAAM,CAACC,YAAP,CAAoBF,GAApB,CAAP;EACH,CAFM,CAAP;AAGH;;AACD,SAAShB,WAAT,CAAqBS,GAArB,EAA0B;EACtB,IAAI,CAACA,GAAL,EAAU;IACN,OAAOX,OAAO,CAACG,SAAf;EACH;;EACD,IAAIkB,YAAY,GAAGR,oBAAoB,CAACF,GAAD,CAApB,CACdK,OADc,CACNV,mBADM,EACe,EADf,EAEdU,OAFc,CAENT,mBAFM,EAEe,EAFf,EAGde,IAHc,EAAnB;;EAIA,IAAI,CAACD,YAAL,EAAmB;IACf,OAAOrB,OAAO,CAACG,SAAf;EACH;;EACD,IAAIO,4BAA4B,CAACW,YAAD,CAAhC,EAAgD;IAC5C,OAAOA,YAAP;EACH;;EACD,IAAIE,qBAAqB,GAAGF,YAAY,CAACJ,KAAb,CAAmBT,cAAnB,CAA5B;;EACA,IAAI,CAACe,qBAAL,EAA4B;IACxB,OAAOF,YAAP;EACH;;EACD,IAAIG,SAAS,GAAGD,qBAAqB,CAAC,CAAD,CAArC;;EACA,IAAInB,oBAAoB,CAACqB,IAArB,CAA0BD,SAA1B,CAAJ,EAA0C;IACtC,OAAOxB,OAAO,CAACG,SAAf;EACH;;EACD,OAAOkB,YAAP;AACH;;AACDrB,OAAO,CAACE,WAAR,GAAsBA,WAAtB"},"metadata":{},"sourceType":"script"}