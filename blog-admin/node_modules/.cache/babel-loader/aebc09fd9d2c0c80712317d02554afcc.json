{"ast":null,"code":"import * as _ from 'lodash-es';\nexport { tarjan };\n\nfunction tarjan(g) {\n  var index = 0;\n  var stack = [];\n  var visited = {}; // node id -> { onStack, lowlink, index }\n\n  var results = [];\n\n  function dfs(v) {\n    var entry = visited[v] = {\n      onStack: true,\n      lowlink: index,\n      index: index++\n    };\n    stack.push(v);\n    g.successors(v).forEach(function (w) {\n      if (!_.has(visited, w)) {\n        dfs(w);\n        entry.lowlink = Math.min(entry.lowlink, visited[w].lowlink);\n      } else if (visited[w].onStack) {\n        entry.lowlink = Math.min(entry.lowlink, visited[w].index);\n      }\n    });\n\n    if (entry.lowlink === entry.index) {\n      var cmpt = [];\n      var w;\n\n      do {\n        w = stack.pop();\n        visited[w].onStack = false;\n        cmpt.push(w);\n      } while (v !== w);\n\n      results.push(cmpt);\n    }\n  }\n\n  g.nodes().forEach(function (v) {\n    if (!_.has(visited, v)) {\n      dfs(v);\n    }\n  });\n  return results;\n}","map":{"version":3,"names":["_","tarjan","g","index","stack","visited","results","dfs","v","entry","onStack","lowlink","push","successors","forEach","w","has","Math","min","cmpt","pop","nodes"],"sources":["/Users/lord/Documents/Programmer/vue/VueProjects/cloudycraft-vue/blog-admin/node_modules/dagre-d3-es/src/graphlib/alg/tarjan.js"],"sourcesContent":["import * as _ from 'lodash-es';\n\nexport { tarjan };\n\nfunction tarjan(g) {\n  var index = 0;\n  var stack = [];\n  var visited = {}; // node id -> { onStack, lowlink, index }\n  var results = [];\n\n  function dfs(v) {\n    var entry = (visited[v] = {\n      onStack: true,\n      lowlink: index,\n      index: index++,\n    });\n    stack.push(v);\n\n    g.successors(v).forEach(function (w) {\n      if (!_.has(visited, w)) {\n        dfs(w);\n        entry.lowlink = Math.min(entry.lowlink, visited[w].lowlink);\n      } else if (visited[w].onStack) {\n        entry.lowlink = Math.min(entry.lowlink, visited[w].index);\n      }\n    });\n\n    if (entry.lowlink === entry.index) {\n      var cmpt = [];\n      var w;\n      do {\n        w = stack.pop();\n        visited[w].onStack = false;\n        cmpt.push(w);\n      } while (v !== w);\n      results.push(cmpt);\n    }\n  }\n\n  g.nodes().forEach(function (v) {\n    if (!_.has(visited, v)) {\n      dfs(v);\n    }\n  });\n\n  return results;\n}\n"],"mappings":"AAAA,OAAO,KAAKA,CAAZ,MAAmB,WAAnB;AAEA,SAASC,MAAT;;AAEA,SAASA,MAAT,CAAgBC,CAAhB,EAAmB;EACjB,IAAIC,KAAK,GAAG,CAAZ;EACA,IAAIC,KAAK,GAAG,EAAZ;EACA,IAAIC,OAAO,GAAG,EAAd,CAHiB,CAGC;;EAClB,IAAIC,OAAO,GAAG,EAAd;;EAEA,SAASC,GAAT,CAAaC,CAAb,EAAgB;IACd,IAAIC,KAAK,GAAIJ,OAAO,CAACG,CAAD,CAAP,GAAa;MACxBE,OAAO,EAAE,IADe;MAExBC,OAAO,EAAER,KAFe;MAGxBA,KAAK,EAAEA,KAAK;IAHY,CAA1B;IAKAC,KAAK,CAACQ,IAAN,CAAWJ,CAAX;IAEAN,CAAC,CAACW,UAAF,CAAaL,CAAb,EAAgBM,OAAhB,CAAwB,UAAUC,CAAV,EAAa;MACnC,IAAI,CAACf,CAAC,CAACgB,GAAF,CAAMX,OAAN,EAAeU,CAAf,CAAL,EAAwB;QACtBR,GAAG,CAACQ,CAAD,CAAH;QACAN,KAAK,CAACE,OAAN,GAAgBM,IAAI,CAACC,GAAL,CAAST,KAAK,CAACE,OAAf,EAAwBN,OAAO,CAACU,CAAD,CAAP,CAAWJ,OAAnC,CAAhB;MACD,CAHD,MAGO,IAAIN,OAAO,CAACU,CAAD,CAAP,CAAWL,OAAf,EAAwB;QAC7BD,KAAK,CAACE,OAAN,GAAgBM,IAAI,CAACC,GAAL,CAAST,KAAK,CAACE,OAAf,EAAwBN,OAAO,CAACU,CAAD,CAAP,CAAWZ,KAAnC,CAAhB;MACD;IACF,CAPD;;IASA,IAAIM,KAAK,CAACE,OAAN,KAAkBF,KAAK,CAACN,KAA5B,EAAmC;MACjC,IAAIgB,IAAI,GAAG,EAAX;MACA,IAAIJ,CAAJ;;MACA,GAAG;QACDA,CAAC,GAAGX,KAAK,CAACgB,GAAN,EAAJ;QACAf,OAAO,CAACU,CAAD,CAAP,CAAWL,OAAX,GAAqB,KAArB;QACAS,IAAI,CAACP,IAAL,CAAUG,CAAV;MACD,CAJD,QAISP,CAAC,KAAKO,CAJf;;MAKAT,OAAO,CAACM,IAAR,CAAaO,IAAb;IACD;EACF;;EAEDjB,CAAC,CAACmB,KAAF,GAAUP,OAAV,CAAkB,UAAUN,CAAV,EAAa;IAC7B,IAAI,CAACR,CAAC,CAACgB,GAAF,CAAMX,OAAN,EAAeG,CAAf,CAAL,EAAwB;MACtBD,GAAG,CAACC,CAAD,CAAH;IACD;EACF,CAJD;EAMA,OAAOF,OAAP;AACD"},"metadata":{},"sourceType":"module"}