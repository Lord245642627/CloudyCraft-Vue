{"ast":null,"code":"import Layout from '@/layout/index.vue';\nimport router from '@/router';\nimport store from '@/store';\nimport axios from 'axios';\nimport Vue from 'vue';\nexport function generaMenu() {\n  axios.get('/api/admin/user/menus').then(({\n    data\n  }) => {\n    if (data.code === 0) {\n      let userMenus = data.data;\n      userMenus.forEach(item => {\n        if (item.icon != null) {\n          item.icon = 'iconfont ' + item.icon;\n        }\n\n        if (item.component == 'Layout') {\n          item.component = Layout;\n        }\n\n        if (item.children && item.children.length > 0) {\n          item.children.forEach(route => {\n            route.icon = 'iconfont ' + route.icon;\n            route.component = loadView(route.component);\n          });\n        }\n      });\n      store.commit('saveUserMenus', userMenus);\n      userMenus.forEach(item => {\n        router.addRoute(item);\n      });\n    } else {\n      Vue.prototype.$message.error(data.message);\n      router.push({\n        path: '/login'\n      });\n    }\n  });\n}\nexport const loadView = view => {\n  return resolve => require([`@/views${view}`], resolve);\n};","map":null,"metadata":{},"sourceType":"module"}