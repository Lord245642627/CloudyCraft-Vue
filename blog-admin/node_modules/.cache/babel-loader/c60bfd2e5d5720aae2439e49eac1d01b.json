{"ast":null,"code":"require(\"core-js/modules/web.dom-exception.stack.js\");\n\nrequire(\"core-js/modules/esnext.typed-array.find-last.js\");\n\nrequire(\"core-js/modules/esnext.typed-array.find-last-index.js\");\n\n!function (t, e) {\n  \"object\" == typeof exports && \"object\" == typeof module ? module.exports = e() : \"function\" == typeof define && define.amd ? define([], e) : \"object\" == typeof exports ? exports.imageConversion = e() : t.imageConversion = e();\n}(this, function () {\n  return function (t) {\n    var e = {};\n\n    function n(r) {\n      if (e[r]) return e[r].exports;\n      var o = e[r] = {\n        i: r,\n        l: !1,\n        exports: {}\n      };\n      return t[r].call(o.exports, o, o.exports, n), o.l = !0, o.exports;\n    }\n\n    return n.m = t, n.c = e, n.d = function (t, e, r) {\n      n.o(t, e) || Object.defineProperty(t, e, {\n        enumerable: !0,\n        get: r\n      });\n    }, n.r = function (t) {\n      \"undefined\" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(t, Symbol.toStringTag, {\n        value: \"Module\"\n      }), Object.defineProperty(t, \"__esModule\", {\n        value: !0\n      });\n    }, n.t = function (t, e) {\n      if (1 & e && (t = n(t)), 8 & e) return t;\n      if (4 & e && \"object\" == typeof t && t && t.__esModule) return t;\n      var r = Object.create(null);\n      if (n.r(r), Object.defineProperty(r, \"default\", {\n        enumerable: !0,\n        value: t\n      }), 2 & e && \"string\" != typeof t) for (var o in t) n.d(r, o, function (e) {\n        return t[e];\n      }.bind(null, o));\n      return r;\n    }, n.n = function (t) {\n      var e = t && t.__esModule ? function () {\n        return t.default;\n      } : function () {\n        return t;\n      };\n      return n.d(e, \"a\", e), e;\n    }, n.o = function (t, e) {\n      return Object.prototype.hasOwnProperty.call(t, e);\n    }, n.p = \"\", n(n.s = 0);\n  }([function (t, e, n) {\n    \"use strict\";\n\n    var r;\n\n    function o(t) {\n      return [\"image/png\", \"image/jpeg\", \"image/gif\"].some(e => e === t);\n    }\n\n    n.r(e), n.d(e, \"canvastoDataURL\", function () {\n      return a;\n    }), n.d(e, \"canvastoFile\", function () {\n      return c;\n    }), n.d(e, \"dataURLtoFile\", function () {\n      return s;\n    }), n.d(e, \"dataURLtoImage\", function () {\n      return l;\n    }), n.d(e, \"downloadFile\", function () {\n      return d;\n    }), n.d(e, \"filetoDataURL\", function () {\n      return f;\n    }), n.d(e, \"imagetoCanvas\", function () {\n      return g;\n    }), n.d(e, \"urltoBlob\", function () {\n      return w;\n    }), n.d(e, \"urltoImage\", function () {\n      return m;\n    }), n.d(e, \"compress\", function () {\n      return p;\n    }), n.d(e, \"compressAccurately\", function () {\n      return b;\n    }), n.d(e, \"EImageType\", function () {\n      return r;\n    }), function (t) {\n      t.PNG = \"image/png\", t.JPEG = \"image/jpeg\", t.GIF = \"image/gif\";\n    }(r || (r = {}));\n\n    var i = function (t, e, n, r) {\n      return new (n || (n = Promise))(function (o, i) {\n        function a(t) {\n          try {\n            u(r.next(t));\n          } catch (t) {\n            i(t);\n          }\n        }\n\n        function c(t) {\n          try {\n            u(r.throw(t));\n          } catch (t) {\n            i(t);\n          }\n        }\n\n        function u(t) {\n          var e;\n          t.done ? o(t.value) : (e = t.value, e instanceof n ? e : new n(function (t) {\n            t(e);\n          })).then(a, c);\n        }\n\n        u((r = r.apply(t, e || [])).next());\n      });\n    };\n\n    function a(t, e = .92, n = r.JPEG) {\n      return i(this, void 0, void 0, function* () {\n        return o(n) || (n = r.JPEG), t.toDataURL(n, e);\n      });\n    }\n\n    function c(t, e = .92, n = r.JPEG) {\n      return new Promise(r => t.toBlob(t => r(t), n, e));\n    }\n\n    var u = function (t, e, n, r) {\n      return new (n || (n = Promise))(function (o, i) {\n        function a(t) {\n          try {\n            u(r.next(t));\n          } catch (t) {\n            i(t);\n          }\n        }\n\n        function c(t) {\n          try {\n            u(r.throw(t));\n          } catch (t) {\n            i(t);\n          }\n        }\n\n        function u(t) {\n          var e;\n          t.done ? o(t.value) : (e = t.value, e instanceof n ? e : new n(function (t) {\n            t(e);\n          })).then(a, c);\n        }\n\n        u((r = r.apply(t, e || [])).next());\n      });\n    };\n\n    function s(t, e) {\n      return u(this, void 0, void 0, function* () {\n        const n = t.split(\",\");\n        let r = n[0].match(/:(.*?);/)[1];\n        const i = atob(n[1]);\n        let a = i.length;\n        const c = new Uint8Array(a);\n\n        for (; a--;) c[a] = i.charCodeAt(a);\n\n        return o(e) && (r = e), new Blob([c], {\n          type: r\n        });\n      });\n    }\n\n    function l(t) {\n      return new Promise((e, n) => {\n        const r = new Image();\n        r.onload = () => e(r), r.onerror = () => n(new Error(\"dataURLtoImage(): dataURL is illegal\")), r.src = t;\n      });\n    }\n\n    function d(t, e) {\n      const n = document.createElement(\"a\");\n      n.href = window.URL.createObjectURL(t), n.download = e || Date.now().toString(36), document.body.appendChild(n);\n      const r = document.createEvent(\"MouseEvents\");\n      r.initEvent(\"click\", !1, !1), n.dispatchEvent(r), document.body.removeChild(n);\n    }\n\n    function f(t) {\n      return new Promise(e => {\n        const n = new FileReader();\n        n.onloadend = t => e(t.target.result), n.readAsDataURL(t);\n      });\n    }\n\n    var h = function (t, e, n, r) {\n      return new (n || (n = Promise))(function (o, i) {\n        function a(t) {\n          try {\n            u(r.next(t));\n          } catch (t) {\n            i(t);\n          }\n        }\n\n        function c(t) {\n          try {\n            u(r.throw(t));\n          } catch (t) {\n            i(t);\n          }\n        }\n\n        function u(t) {\n          var e;\n          t.done ? o(t.value) : (e = t.value, e instanceof n ? e : new n(function (t) {\n            t(e);\n          })).then(a, c);\n        }\n\n        u((r = r.apply(t, e || [])).next());\n      });\n    };\n\n    function g(t, e = {}) {\n      return h(this, void 0, void 0, function* () {\n        const n = Object.assign({}, e),\n              r = document.createElement(\"canvas\"),\n              o = r.getContext(\"2d\");\n        let i, a;\n\n        for (const t in n) Object.prototype.hasOwnProperty.call(n, t) && (n[t] = Number(n[t]));\n\n        if (n.scale) {\n          const e = n.scale > 0 && n.scale < 10 ? n.scale : 1;\n          a = t.width * e, i = t.height * e;\n        } else a = n.width || n.height * t.width / t.height || t.width, i = n.height || n.width * t.height / t.width || t.height;\n\n        switch ([5, 6, 7, 8].some(t => t === n.orientation) ? (r.height = a, r.width = i) : (r.height = i, r.width = a), n.orientation) {\n          case 3:\n            o.rotate(180 * Math.PI / 180), o.drawImage(t, -r.width, -r.height, r.width, r.height);\n            break;\n\n          case 6:\n            o.rotate(90 * Math.PI / 180), o.drawImage(t, 0, -r.width, r.height, r.width);\n            break;\n\n          case 8:\n            o.rotate(270 * Math.PI / 180), o.drawImage(t, -r.height, 0, r.height, r.width);\n            break;\n\n          case 2:\n            o.translate(r.width, 0), o.scale(-1, 1), o.drawImage(t, 0, 0, r.width, r.height);\n            break;\n\n          case 4:\n            o.translate(r.width, 0), o.scale(-1, 1), o.rotate(180 * Math.PI / 180), o.drawImage(t, -r.width, -r.height, r.width, r.height);\n            break;\n\n          case 5:\n            o.translate(r.width, 0), o.scale(-1, 1), o.rotate(90 * Math.PI / 180), o.drawImage(t, 0, -r.width, r.height, r.width);\n            break;\n\n          case 7:\n            o.translate(r.width, 0), o.scale(-1, 1), o.rotate(270 * Math.PI / 180), o.drawImage(t, -r.height, 0, r.height, r.width);\n            break;\n\n          default:\n            o.drawImage(t, 0, 0, r.width, r.height);\n        }\n\n        return r;\n      });\n    }\n\n    function w(t) {\n      return fetch(t).then(t => t.blob());\n    }\n\n    function m(t) {\n      return new Promise((e, n) => {\n        const r = new Image();\n        r.onload = () => e(r), r.onerror = () => n(new Error(\"urltoImage(): Image failed to load, please check the image URL\")), r.src = t;\n      });\n    }\n\n    var y = function (t, e, n, r) {\n      return new (n || (n = Promise))(function (o, i) {\n        function a(t) {\n          try {\n            u(r.next(t));\n          } catch (t) {\n            i(t);\n          }\n        }\n\n        function c(t) {\n          try {\n            u(r.throw(t));\n          } catch (t) {\n            i(t);\n          }\n        }\n\n        function u(t) {\n          var e;\n          t.done ? o(t.value) : (e = t.value, e instanceof n ? e : new n(function (t) {\n            t(e);\n          })).then(a, c);\n        }\n\n        u((r = r.apply(t, e || [])).next());\n      });\n    };\n\n    function p(t, e = {}) {\n      return y(this, void 0, void 0, function* () {\n        if (!(t instanceof Blob)) throw new Error(\"compress(): First arg must be a Blob object or a File object.\");\n        if (\"object\" != typeof e && (e = Object.assign({\n          quality: e\n        })), e.quality = Number(e.quality), Number.isNaN(e.quality)) return t;\n        const n = yield f(t);\n        let i = n.split(\",\")[0].match(/:(.*?);/)[1],\n            c = r.JPEG;\n        o(e.type) && (c = e.type, i = e.type);\n        const u = yield l(n),\n              d = yield g(u, Object.assign({}, e)),\n              h = yield a(d, e.quality, c),\n              w = yield s(h, i);\n        return w.size > t.size ? t : w;\n      });\n    }\n\n    function b(t, e = {}) {\n      return y(this, void 0, void 0, function* () {\n        if (!(t instanceof Blob)) throw new Error(\"compressAccurately(): First arg must be a Blob object or a File object.\");\n        if (\"object\" != typeof e && (e = Object.assign({\n          size: e\n        })), e.size = Number(e.size), Number.isNaN(e.size)) return t;\n        if (1024 * e.size > t.size) return t;\n        e.accuracy = Number(e.accuracy), (!e.accuracy || e.accuracy < .8 || e.accuracy > .99) && (e.accuracy = .95);\n        const n = e.size * (2 - e.accuracy) * 1024,\n              i = 1024 * e.size,\n              c = e.size * e.accuracy * 1024,\n              u = yield f(t);\n        let d = u.split(\",\")[0].match(/:(.*?);/)[1],\n            h = r.JPEG;\n        o(e.type) && (h = e.type, d = e.type);\n        const w = yield l(u),\n              m = yield g(w, Object.assign({}, e));\n        let y,\n            p = .5;\n        const b = [null, null];\n\n        for (let t = 1; t <= 7; t++) {\n          y = yield a(m, p, h);\n          const e = .75 * y.length;\n\n          if (7 === t) {\n            (n < e || c > e) && (y = [y, ...b].filter(t => t).sort((t, e) => Math.abs(.75 * t.length - i) - Math.abs(.75 * e.length - i))[0]);\n            break;\n          }\n\n          if (n < e) b[1] = y, p -= Math.pow(.5, t + 1);else {\n            if (!(c > e)) break;\n            b[0] = y, p += Math.pow(.5, t + 1);\n          }\n        }\n\n        const v = yield s(y, d);\n        return v.size > t.size ? t : v;\n      });\n    }\n  }]);\n});","map":null,"metadata":{},"sourceType":"script"}