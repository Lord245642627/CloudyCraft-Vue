{"ast":null,"code":"export const throttle = function (fn, delay, context) {\n  let now = 0;\n  let lastExec = 0;\n  let timer = null;\n\n  const execute = () => {\n    fn(context);\n    lastExec = now;\n  };\n\n  return () => {\n    now = Date.now();\n\n    if (timer) {\n      clearTimeout(timer);\n      timer = null;\n    }\n\n    if (lastExec) {\n      const diff = delay - (now - lastExec);\n\n      if (diff < 0) {\n        execute();\n      } else {\n        timer = setTimeout(function () {\n          execute();\n        }, diff);\n      }\n    } else {\n      execute();\n    }\n  };\n};","map":{"version":3,"mappings":"AACA,OAAO,MAAMA,QAAQ,GAAG,UAAUC,EAAV,EAAmBC,KAAnB,EAAgCC,OAAhC,EAA4C;EAClE,IAAIC,GAAG,GAAS,CAAhB;EACA,IAAIC,QAAQ,GAAS,CAArB;EACA,IAAIC,KAAK,GAAQ,IAAjB;;EACA,MAAMC,OAAO,GAAG,MAAK;IACnBN,EAAE,CAACE,OAAD,CAAF;IACAE,QAAQ,GAAGD,GAAX;EACD,CAHD;;EAKA,OAAO,MAAK;IAEVA,GAAG,GAAGI,IAAI,CAACJ,GAAL,EAAN;;IAEA,IAAIE,KAAJ,EAAW;MACTG,YAAY,CAACH,KAAD,CAAZ;MACAA,KAAK,GAAG,IAAR;IACD;;IAED,IAAID,QAAJ,EAAc;MACZ,MAAMK,IAAI,GAAGR,KAAK,IAAIE,GAAG,GAAGC,QAAV,CAAlB;;MACA,IAAIK,IAAI,GAAG,CAAX,EAAc;QACZH,OAAO;MACR,CAFD,MAEO;QACLD,KAAK,GAAGK,UAAU,CAAC;UACjBJ,OAAO;QACR,CAFiB,EAEfG,IAFe,CAAlB;MAGD;IACF,CATD,MASO;MACLH,OAAO;IACR;EACF,CArBD;AAsBD,CA/BM","names":["throttle","fn","delay","context","now","lastExec","timer","execute","Date","clearTimeout","diff","setTimeout"],"sourceRoot":"","sources":["../../plugins/lib/uitls.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}