{"ast":null,"code":"import * as d3 from 'd3';\nimport * as _ from 'lodash-es';\nimport { addLabel } from './label/add-label.js';\nimport * as util from './util.js';\nexport { createEdgeLabels, setCreateEdgeLabels };\n\nlet createEdgeLabels = function (selection, g) {\n  var svgEdgeLabels = selection.selectAll('g.edgeLabel').data(g.edges(), function (e) {\n    return util.edgeToId(e);\n  }).classed('update', true);\n  svgEdgeLabels.exit().remove();\n  svgEdgeLabels.enter().append('g').classed('edgeLabel', true).style('opacity', 0);\n  svgEdgeLabels = selection.selectAll('g.edgeLabel');\n  svgEdgeLabels.each(function (e) {\n    var root = d3.select(this);\n    root.select('.label').remove();\n    var edge = g.edge(e);\n    var label = addLabel(root, g.edge(e), 0).classed('label', true);\n    var bbox = label.node().getBBox();\n\n    if (edge.labelId) {\n      label.attr('id', edge.labelId);\n    }\n\n    if (!_.has(edge, 'width')) {\n      edge.width = bbox.width;\n    }\n\n    if (!_.has(edge, 'height')) {\n      edge.height = bbox.height;\n    }\n  });\n  var exitSelection;\n\n  if (svgEdgeLabels.exit) {\n    exitSelection = svgEdgeLabels.exit();\n  } else {\n    exitSelection = svgEdgeLabels.selectAll(null); // empty selection\n  }\n\n  util.applyTransition(exitSelection, g).style('opacity', 0).remove();\n  return svgEdgeLabels;\n};\n\nfunction setCreateEdgeLabels(value) {\n  createEdgeLabels = value;\n}","map":{"version":3,"names":["d3","_","addLabel","util","createEdgeLabels","setCreateEdgeLabels","selection","g","svgEdgeLabels","selectAll","data","edges","e","edgeToId","classed","exit","remove","enter","append","style","each","root","select","edge","label","bbox","node","getBBox","labelId","attr","has","width","height","exitSelection","applyTransition","value"],"sources":["/Users/lord/Documents/Programmer/vue/VueProjects/blog-vue/blog-web/node_modules/dagre-d3-es/src/dagre-js/create-edge-labels.js"],"sourcesContent":["import * as d3 from 'd3';\nimport * as _ from 'lodash-es';\nimport { addLabel } from './label/add-label.js';\nimport * as util from './util.js';\n\nexport { createEdgeLabels, setCreateEdgeLabels };\n\nlet createEdgeLabels = function (selection, g) {\n  var svgEdgeLabels = selection\n    .selectAll('g.edgeLabel')\n    .data(g.edges(), function (e) {\n      return util.edgeToId(e);\n    })\n    .classed('update', true);\n\n  svgEdgeLabels.exit().remove();\n  svgEdgeLabels.enter().append('g').classed('edgeLabel', true).style('opacity', 0);\n\n  svgEdgeLabels = selection.selectAll('g.edgeLabel');\n\n  svgEdgeLabels.each(function (e) {\n    var root = d3.select(this);\n    root.select('.label').remove();\n    var edge = g.edge(e);\n    var label = addLabel(root, g.edge(e), 0).classed('label', true);\n    var bbox = label.node().getBBox();\n\n    if (edge.labelId) {\n      label.attr('id', edge.labelId);\n    }\n    if (!_.has(edge, 'width')) {\n      edge.width = bbox.width;\n    }\n    if (!_.has(edge, 'height')) {\n      edge.height = bbox.height;\n    }\n  });\n\n  var exitSelection;\n\n  if (svgEdgeLabels.exit) {\n    exitSelection = svgEdgeLabels.exit();\n  } else {\n    exitSelection = svgEdgeLabels.selectAll(null); // empty selection\n  }\n\n  util.applyTransition(exitSelection, g).style('opacity', 0).remove();\n\n  return svgEdgeLabels;\n};\n\nfunction setCreateEdgeLabels(value) {\n  createEdgeLabels = value;\n}\n"],"mappings":"AAAA,OAAO,KAAKA,EAAZ,MAAoB,IAApB;AACA,OAAO,KAAKC,CAAZ,MAAmB,WAAnB;AACA,SAASC,QAAT,QAAyB,sBAAzB;AACA,OAAO,KAAKC,IAAZ,MAAsB,WAAtB;AAEA,SAASC,gBAAT,EAA2BC,mBAA3B;;AAEA,IAAID,gBAAgB,GAAG,UAAUE,SAAV,EAAqBC,CAArB,EAAwB;EAC7C,IAAIC,aAAa,GAAGF,SAAS,CAC1BG,SADiB,CACP,aADO,EAEjBC,IAFiB,CAEZH,CAAC,CAACI,KAAF,EAFY,EAED,UAAUC,CAAV,EAAa;IAC5B,OAAOT,IAAI,CAACU,QAAL,CAAcD,CAAd,CAAP;EACD,CAJiB,EAKjBE,OALiB,CAKT,QALS,EAKC,IALD,CAApB;EAOAN,aAAa,CAACO,IAAd,GAAqBC,MAArB;EACAR,aAAa,CAACS,KAAd,GAAsBC,MAAtB,CAA6B,GAA7B,EAAkCJ,OAAlC,CAA0C,WAA1C,EAAuD,IAAvD,EAA6DK,KAA7D,CAAmE,SAAnE,EAA8E,CAA9E;EAEAX,aAAa,GAAGF,SAAS,CAACG,SAAV,CAAoB,aAApB,CAAhB;EAEAD,aAAa,CAACY,IAAd,CAAmB,UAAUR,CAAV,EAAa;IAC9B,IAAIS,IAAI,GAAGrB,EAAE,CAACsB,MAAH,CAAU,IAAV,CAAX;IACAD,IAAI,CAACC,MAAL,CAAY,QAAZ,EAAsBN,MAAtB;IACA,IAAIO,IAAI,GAAGhB,CAAC,CAACgB,IAAF,CAAOX,CAAP,CAAX;IACA,IAAIY,KAAK,GAAGtB,QAAQ,CAACmB,IAAD,EAAOd,CAAC,CAACgB,IAAF,CAAOX,CAAP,CAAP,EAAkB,CAAlB,CAAR,CAA6BE,OAA7B,CAAqC,OAArC,EAA8C,IAA9C,CAAZ;IACA,IAAIW,IAAI,GAAGD,KAAK,CAACE,IAAN,GAAaC,OAAb,EAAX;;IAEA,IAAIJ,IAAI,CAACK,OAAT,EAAkB;MAChBJ,KAAK,CAACK,IAAN,CAAW,IAAX,EAAiBN,IAAI,CAACK,OAAtB;IACD;;IACD,IAAI,CAAC3B,CAAC,CAAC6B,GAAF,CAAMP,IAAN,EAAY,OAAZ,CAAL,EAA2B;MACzBA,IAAI,CAACQ,KAAL,GAAaN,IAAI,CAACM,KAAlB;IACD;;IACD,IAAI,CAAC9B,CAAC,CAAC6B,GAAF,CAAMP,IAAN,EAAY,QAAZ,CAAL,EAA4B;MAC1BA,IAAI,CAACS,MAAL,GAAcP,IAAI,CAACO,MAAnB;IACD;EACF,CAhBD;EAkBA,IAAIC,aAAJ;;EAEA,IAAIzB,aAAa,CAACO,IAAlB,EAAwB;IACtBkB,aAAa,GAAGzB,aAAa,CAACO,IAAd,EAAhB;EACD,CAFD,MAEO;IACLkB,aAAa,GAAGzB,aAAa,CAACC,SAAd,CAAwB,IAAxB,CAAhB,CADK,CAC0C;EAChD;;EAEDN,IAAI,CAAC+B,eAAL,CAAqBD,aAArB,EAAoC1B,CAApC,EAAuCY,KAAvC,CAA6C,SAA7C,EAAwD,CAAxD,EAA2DH,MAA3D;EAEA,OAAOR,aAAP;AACD,CA1CD;;AA4CA,SAASH,mBAAT,CAA6B8B,KAA7B,EAAoC;EAClC/B,gBAAgB,GAAG+B,KAAnB;AACD"},"metadata":{},"sourceType":"module"}