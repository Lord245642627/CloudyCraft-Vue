{"ast":null,"code":"const clickEventType = function () {\n  return document.ontouchstart !== null ? \"click\" : \"touchstart\";\n};\n\nconst UNIQUE_ID = \"__vue_click_away__\";\n\nconst onMounted = function (el, binding, vnode) {\n  onUnmounted(el);\n  let vm = vnode.context;\n  let callback = binding.value;\n  let nextTick = false;\n  setTimeout(function () {\n    nextTick = true;\n  }, 0);\n\n  el[UNIQUE_ID] = function (event) {\n    if ((!el || !el.contains(event.target)) && callback && nextTick && typeof callback === \"function\") {\n      return callback.call(vm, event);\n    }\n  };\n\n  document.addEventListener(clickEventType(), el[UNIQUE_ID], false);\n};\n\nconst onUnmounted = function (el) {\n  document.removeEventListener(clickEventType(), el[UNIQUE_ID], false);\n  delete el[UNIQUE_ID];\n};\n\nconst onUpdated = function (el, binding, vnode) {\n  if (binding.value === binding.oldValue) {\n    return;\n  }\n\n  onMounted(el, binding, vnode);\n};\n\nconst plugin = {\n  install: function (app) {\n    app.directive('click-away', directive);\n  }\n};\nconst directive = {\n  mounted: onMounted,\n  updated: onUpdated,\n  unmounted: onUnmounted\n};\nconst mixin = {\n  directives: {\n    ClickAway: directive\n  }\n};\nexport default plugin;\nexport { directive, mixin };","map":{"version":3,"mappings":"AAAA,MAAMA,cAAc,GAAG,YAAM;EAC3B,OAAOC,QAAQ,CAACC,YAATD,KAA0B,IAA1BA,GAAiC,OAAjCA,GAA2C,YAAlD;AADF;;AAIA,MAAME,SAAS,GAAG,oBAAlB;;AAEA,MAAMC,SAAS,GAAG,UAACC,EAAD,EAAKC,OAAL,EAAcC,KAAd,EAAwB;EACxCC,WAAW,CAACH,EAAD,CAAXG;EAEA,IAAIC,EAAE,GAAGF,KAAK,CAACG,OAAf;EACA,IAAIC,QAAQ,GAAGL,OAAO,CAACM,KAAvB;EAEA,IAAIC,QAAQ,GAAG,KAAf;EACAC,UAAU,CAAC,YAAY;IACrBD,QAAQ,GAAG,IAAXA;EADQ,GAEP,CAFO,CAAVC;;EAIAT,EAAE,CAACF,SAAD,CAAFE,GAAgB,UAACU,KAAD,EAAW;IACzB,IACE,CAAC,CAACV,EAAD,IAAO,CAACA,EAAE,CAACW,QAAHX,CAAYU,KAAK,CAACE,MAAlBZ,CAAT,KACAM,QADA,IAEAE,QAFA,IAGA,OAAOF,QAAP,KAAoB,UAJtB,EAKE;MACA,OAAOA,QAAQ,CAACO,IAATP,CAAcF,EAAdE,EAAkBI,KAAlBJ,CAAP;IACD;EARH;;EAWAV,QAAQ,CAACkB,gBAATlB,CAA0BD,cAAc,EAAxCC,EAA4CI,EAAE,CAACF,SAAD,CAA9CF,EAA2D,KAA3DA;AAtBF;;AAyBA,MAAMO,WAAW,GAAG,UAACH,EAAD,EAAQ;EAC1BJ,QAAQ,CAACmB,mBAATnB,CAA6BD,cAAc,EAA3CC,EAA+CI,EAAE,CAACF,SAAD,CAAjDF,EAA8D,KAA9DA;EACA,OAAOI,EAAE,CAACF,SAAD,CAAT;AAFF;;AAKA,MAAMkB,SAAS,GAAG,UAAChB,EAAD,EAAKC,OAAL,EAAcC,KAAd,EAAwB;EACxC,IAAID,OAAO,CAACM,KAARN,KAAkBA,OAAO,CAACgB,QAA9B,EAAwC;IACtC;EACD;;EACDlB,SAAS,CAACC,EAAD,EAAKC,OAAL,EAAcC,KAAd,CAATH;AAJF;;MAOMmB,MAAM,GAAG;EACbC,OAAO,EAAE,UAACC,GAAD,EAAS;IAChBA,GAAG,CAACC,SAAJD,CAAc,YAAdA,EAA4BC,SAA5BD;EACD;AAHY;MAMTC,SAAS,GAAG;EAChBC,OAAO,EAAEvB,SADO;EAEhBwB,OAAO,EAAEP,SAFO;EAGhBQ,SAAS,EAAErB;AAHK;MAMZsB,KAAK,GAAG;EACZC,UAAU,EAAE;IAAEC,SAAS,EAAEN;EAAb;AADA","names":["clickEventType","document","ontouchstart","UNIQUE_ID","onMounted","el","binding","vnode","onUnmounted","vm","context","callback","value","nextTick","setTimeout","event","contains","target","call","addEventListener","removeEventListener","onUpdated","oldValue","plugin","install","app","directive","mounted","updated","unmounted","mixin","directives","ClickAway"],"sources":["../index.js"],"sourcesContent":["const clickEventType = () => {\n  return document.ontouchstart !== null ? \"click\" : \"touchstart\";\n};\n\nconst UNIQUE_ID = \"__vue_click_away__\";\n\nconst onMounted = (el, binding, vnode) => {\n  onUnmounted(el);\n\n  let vm = vnode.context;\n  let callback = binding.value;\n\n  let nextTick = false;\n  setTimeout(function () {\n    nextTick = true;\n  }, 0);\n\n  el[UNIQUE_ID] = (event) => {\n    if (\n      (!el || !el.contains(event.target)) &&\n      callback &&\n      nextTick &&\n      typeof callback === \"function\"\n    ) {\n      return callback.call(vm, event);\n    }\n  };\n\n  document.addEventListener(clickEventType(), el[UNIQUE_ID], false);\n};\n\nconst onUnmounted = (el) => {\n  document.removeEventListener(clickEventType(), el[UNIQUE_ID], false);\n  delete el[UNIQUE_ID];\n};\n\nconst onUpdated = (el, binding, vnode) => {\n  if (binding.value === binding.oldValue) {\n    return;\n  }\n  onMounted(el, binding, vnode);\n};\n\nconst plugin = {\n  install: (app) => {\n    app.directive('click-away', directive)\n  }\n}\n\nconst directive = {\n  mounted: onMounted,\n  updated: onUpdated,\n  unmounted: onUnmounted,\n};\n\nconst mixin = {\n  directives: { ClickAway: directive },\n};\n\nexport {\n  directive,\n  mixin\n}\n\nexport default plugin;\n"]},"metadata":{},"sourceType":"module"}