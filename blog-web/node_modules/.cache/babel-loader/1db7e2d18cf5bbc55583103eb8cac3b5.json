{"ast":null,"code":"export const throttle = function (fn, delay, context) {\n  let now = 0;\n  let lastExec = 0;\n  let timer = null;\n\n  const execute = () => {\n    fn(context);\n    lastExec = now;\n  };\n\n  return () => {\n    now = Date.now();\n\n    if (timer) {\n      clearTimeout(timer);\n      timer = null;\n    }\n\n    if (lastExec) {\n      const diff = delay - (now - lastExec);\n\n      if (diff < 0) {\n        execute();\n      } else {\n        timer = setTimeout(function () {\n          execute();\n        }, diff);\n      }\n    } else {\n      execute();\n    }\n  };\n};","map":null,"metadata":{},"sourceType":"module"}