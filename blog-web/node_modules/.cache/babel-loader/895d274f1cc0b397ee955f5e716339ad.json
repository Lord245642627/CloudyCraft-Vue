{"ast":null,"code":"import * as _ from 'lodash-es';\nexport { barycenter };\n\nfunction barycenter(g, movable) {\n  return _.map(movable, function (v) {\n    var inV = g.inEdges(v);\n\n    if (!inV.length) {\n      return {\n        v: v\n      };\n    } else {\n      var result = _.reduce(inV, function (acc, e) {\n        var edge = g.edge(e),\n            nodeU = g.node(e.v);\n        return {\n          sum: acc.sum + edge.weight * nodeU.order,\n          weight: acc.weight + edge.weight\n        };\n      }, {\n        sum: 0,\n        weight: 0\n      });\n\n      return {\n        v: v,\n        barycenter: result.sum / result.weight,\n        weight: result.weight\n      };\n    }\n  });\n}","map":{"version":3,"names":["_","barycenter","g","movable","map","v","inV","inEdges","length","result","reduce","acc","e","edge","nodeU","node","sum","weight","order"],"sources":["/Users/lord/Documents/Programmer/vue/VueProjects/cloudycraft-vue/blog-web/node_modules/dagre-d3-es/src/dagre/order/barycenter.js"],"sourcesContent":["import * as _ from 'lodash-es';\n\nexport { barycenter };\n\nfunction barycenter(g, movable) {\n  return _.map(movable, function (v) {\n    var inV = g.inEdges(v);\n    if (!inV.length) {\n      return { v: v };\n    } else {\n      var result = _.reduce(\n        inV,\n        function (acc, e) {\n          var edge = g.edge(e),\n            nodeU = g.node(e.v);\n          return {\n            sum: acc.sum + edge.weight * nodeU.order,\n            weight: acc.weight + edge.weight,\n          };\n        },\n        { sum: 0, weight: 0 }\n      );\n\n      return {\n        v: v,\n        barycenter: result.sum / result.weight,\n        weight: result.weight,\n      };\n    }\n  });\n}\n"],"mappings":"AAAA,OAAO,KAAKA,CAAZ,MAAmB,WAAnB;AAEA,SAASC,UAAT;;AAEA,SAASA,UAAT,CAAoBC,CAApB,EAAuBC,OAAvB,EAAgC;EAC9B,OAAOH,CAAC,CAACI,GAAF,CAAMD,OAAN,EAAe,UAAUE,CAAV,EAAa;IACjC,IAAIC,GAAG,GAAGJ,CAAC,CAACK,OAAF,CAAUF,CAAV,CAAV;;IACA,IAAI,CAACC,GAAG,CAACE,MAAT,EAAiB;MACf,OAAO;QAAEH,CAAC,EAAEA;MAAL,CAAP;IACD,CAFD,MAEO;MACL,IAAII,MAAM,GAAGT,CAAC,CAACU,MAAF,CACXJ,GADW,EAEX,UAAUK,GAAV,EAAeC,CAAf,EAAkB;QAChB,IAAIC,IAAI,GAAGX,CAAC,CAACW,IAAF,CAAOD,CAAP,CAAX;QAAA,IACEE,KAAK,GAAGZ,CAAC,CAACa,IAAF,CAAOH,CAAC,CAACP,CAAT,CADV;QAEA,OAAO;UACLW,GAAG,EAAEL,GAAG,CAACK,GAAJ,GAAUH,IAAI,CAACI,MAAL,GAAcH,KAAK,CAACI,KAD9B;UAELD,MAAM,EAAEN,GAAG,CAACM,MAAJ,GAAaJ,IAAI,CAACI;QAFrB,CAAP;MAID,CATU,EAUX;QAAED,GAAG,EAAE,CAAP;QAAUC,MAAM,EAAE;MAAlB,CAVW,CAAb;;MAaA,OAAO;QACLZ,CAAC,EAAEA,CADE;QAELJ,UAAU,EAAEQ,MAAM,CAACO,GAAP,GAAaP,MAAM,CAACQ,MAF3B;QAGLA,MAAM,EAAER,MAAM,CAACQ;MAHV,CAAP;IAKD;EACF,CAxBM,CAAP;AAyBD"},"metadata":{},"sourceType":"module"}