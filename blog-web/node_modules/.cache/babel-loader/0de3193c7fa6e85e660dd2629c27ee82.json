{"ast":null,"code":"/*!\n  * vue-i18n v9.1.10\n  * (c) 2022 kazuya kawaguchi\n  * Released under the MIT License.\n  */\n'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar shared = require('@intlify/shared');\n\nvar coreBase = require('@intlify/core-base');\n\nvar vue = require('vue');\n/**\r\n * Vue I18n Version\r\n *\r\n * @remarks\r\n * Semver format. Same format as the package.json `version` field.\r\n *\r\n * @VueI18nGeneral\r\n */\n\n\nconst VERSION = '9.1.10';\nconst warnMessages = {\n  [6\n  /* FALLBACK_TO_ROOT */\n  ]: `Fall back to {type} '{key}' with root locale.`,\n  [7\n  /* NOT_SUPPORTED_PRESERVE */\n  ]: `Not supported 'preserve'.`,\n  [8\n  /* NOT_SUPPORTED_FORMATTER */\n  ]: `Not supported 'formatter'.`,\n  [9\n  /* NOT_SUPPORTED_PRESERVE_DIRECTIVE */\n  ]: `Not supported 'preserveDirectiveContent'.`,\n  [10\n  /* NOT_SUPPORTED_GET_CHOICE_INDEX */\n  ]: `Not supported 'getChoiceIndex'.`,\n  [11\n  /* COMPONENT_NAME_LEGACY_COMPATIBLE */\n  ]: `Component name legacy compatible: '{name}' -> 'i18n'`,\n  [12\n  /* NOT_FOUND_PARENT_SCOPE */\n  ]: `Not found parent scope. use the global scope.`\n};\n\nfunction getWarnMessage(code, ...args) {\n  return shared.format(warnMessages[code], ...args);\n}\n\nfunction createI18nError(code, ...args) {\n  return coreBase.createCompileError(code, null, {\n    messages: errorMessages,\n    args\n  });\n}\n\nconst errorMessages = {\n  [14\n  /* UNEXPECTED_RETURN_TYPE */\n  ]: 'Unexpected return type in composer',\n  [15\n  /* INVALID_ARGUMENT */\n  ]: 'Invalid argument',\n  [16\n  /* MUST_BE_CALL_SETUP_TOP */\n  ]: 'Must be called at the top of a `setup` function',\n  [17\n  /* NOT_INSLALLED */\n  ]: 'Need to install with `app.use` function',\n  [22\n  /* UNEXPECTED_ERROR */\n  ]: 'Unexpected error',\n  [18\n  /* NOT_AVAILABLE_IN_LEGACY_MODE */\n  ]: 'Not available in legacy mode',\n  [19\n  /* REQUIRED_VALUE */\n  ]: `Required in value: {0}`,\n  [20\n  /* INVALID_VALUE */\n  ]: `Invalid value`,\n  [21\n  /* CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN */\n  ]: `Cannot setup vue-devtools plugin`\n};\nconst DEVTOOLS_META = '__INTLIFY_META__';\nconst TransrateVNodeSymbol = shared.makeSymbol('__transrateVNode');\nconst DatetimePartsSymbol = shared.makeSymbol('__datetimeParts');\nconst NumberPartsSymbol = shared.makeSymbol('__numberParts');\nconst EnableEmitter = shared.makeSymbol('__enableEmitter');\nconst DisableEmitter = shared.makeSymbol('__disableEmitter');\nconst SetPluralRulesSymbol = shared.makeSymbol('__setPluralRules');\nshared.makeSymbol('__intlifyMeta');\nconst InejctWithOption = shared.makeSymbol('__injectWithOption');\nlet composerID = 0;\n\nfunction defineCoreMissingHandler(missing) {\n  return (ctx, locale, key, type) => {\n    return missing(locale, key, vue.getCurrentInstance() || undefined, type);\n  };\n}\n\nfunction getLocaleMessages(locale, options) {\n  const {\n    messages,\n    __i18n\n  } = options; // prettier-ignore\n\n  const ret = shared.isPlainObject(messages) ? messages : shared.isArray(__i18n) ? {} : {\n    [locale]: {}\n  }; // merge locale messages of i18n custom block\n\n  if (shared.isArray(__i18n)) {\n    __i18n.forEach(({\n      locale,\n      resource\n    }) => {\n      if (locale) {\n        ret[locale] = ret[locale] || {};\n        deepCopy(resource, ret[locale]);\n      } else {\n        deepCopy(resource, ret);\n      }\n    });\n  } // handle messages for flat json\n\n\n  if (options.flatJson) {\n    for (const key in ret) {\n      if (shared.hasOwn(ret, key)) {\n        coreBase.handleFlatJson(ret[key]);\n      }\n    }\n  }\n\n  return ret;\n}\n\nconst isNotObjectOrIsArray = val => !shared.isObject(val) || shared.isArray(val); // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n\nfunction deepCopy(src, des) {\n  // src and des should both be objects, and non of then can be a array\n  if (isNotObjectOrIsArray(src) || isNotObjectOrIsArray(des)) {\n    throw createI18nError(20\n    /* INVALID_VALUE */\n    );\n  }\n\n  for (const key in src) {\n    if (shared.hasOwn(src, key)) {\n      if (isNotObjectOrIsArray(src[key]) || isNotObjectOrIsArray(des[key])) {\n        // replace with src[key] when:\n        // src[key] or des[key] is not a object, or\n        // src[key] or des[key] is a array\n        des[key] = src[key];\n      } else {\n        // src[key] and des[key] are both object, merge them\n        deepCopy(src[key], des[key]);\n      }\n    }\n  }\n} // for Intlify DevTools\n\n\nconst getMetaInfo = /* #__PURE__*/() => {\n  const instance = vue.getCurrentInstance();\n  return instance && instance.type[DEVTOOLS_META] // eslint-disable-line @typescript-eslint/no-explicit-any\n  ? {\n    [DEVTOOLS_META]: instance.type[DEVTOOLS_META]\n  } // eslint-disable-line @typescript-eslint/no-explicit-any\n  : null;\n};\n/**\r\n * Create composer interface factory\r\n *\r\n * @internal\r\n */\n\n\nfunction createComposer(options = {}) {\n  const {\n    __root\n  } = options;\n\n  const _isGlobal = __root === undefined;\n\n  let _inheritLocale = shared.isBoolean(options.inheritLocale) ? options.inheritLocale : true;\n\n  const _locale = vue.ref( // prettier-ignore\n  __root && _inheritLocale ? __root.locale.value : shared.isString(options.locale) ? options.locale : 'en-US');\n\n  const _fallbackLocale = vue.ref( // prettier-ignore\n  __root && _inheritLocale ? __root.fallbackLocale.value : shared.isString(options.fallbackLocale) || shared.isArray(options.fallbackLocale) || shared.isPlainObject(options.fallbackLocale) || options.fallbackLocale === false ? options.fallbackLocale : _locale.value);\n\n  const _messages = vue.ref(getLocaleMessages(_locale.value, options));\n\n  const _datetimeFormats = vue.ref(shared.isPlainObject(options.datetimeFormats) ? options.datetimeFormats : {\n    [_locale.value]: {}\n  });\n\n  const _numberFormats = vue.ref(shared.isPlainObject(options.numberFormats) ? options.numberFormats : {\n    [_locale.value]: {}\n  }); // warning suppress options\n  // prettier-ignore\n\n\n  let _missingWarn = __root ? __root.missingWarn : shared.isBoolean(options.missingWarn) || shared.isRegExp(options.missingWarn) ? options.missingWarn : true; // prettier-ignore\n\n\n  let _fallbackWarn = __root ? __root.fallbackWarn : shared.isBoolean(options.fallbackWarn) || shared.isRegExp(options.fallbackWarn) ? options.fallbackWarn : true; // prettier-ignore\n\n\n  let _fallbackRoot = __root ? __root.fallbackRoot : shared.isBoolean(options.fallbackRoot) ? options.fallbackRoot : true; // configure fall back to root\n\n\n  let _fallbackFormat = !!options.fallbackFormat; // runtime missing\n\n\n  let _missing = shared.isFunction(options.missing) ? options.missing : null;\n\n  let _runtimeMissing = shared.isFunction(options.missing) ? defineCoreMissingHandler(options.missing) : null; // postTranslation handler\n\n\n  let _postTranslation = shared.isFunction(options.postTranslation) ? options.postTranslation : null;\n\n  let _warnHtmlMessage = shared.isBoolean(options.warnHtmlMessage) ? options.warnHtmlMessage : true;\n\n  let _escapeParameter = !!options.escapeParameter; // custom linked modifiers\n  // prettier-ignore\n\n\n  const _modifiers = __root ? __root.modifiers : shared.isPlainObject(options.modifiers) ? options.modifiers : {}; // pluralRules\n\n\n  let _pluralRules = options.pluralRules || __root && __root.pluralRules; // runtime context\n  // eslint-disable-next-line prefer-const\n\n\n  let _context;\n\n  function getCoreContext() {\n    return coreBase.createCoreContext({\n      version: VERSION,\n      locale: _locale.value,\n      fallbackLocale: _fallbackLocale.value,\n      messages: _messages.value,\n      datetimeFormats: _datetimeFormats.value,\n      numberFormats: _numberFormats.value,\n      modifiers: _modifiers,\n      pluralRules: _pluralRules,\n      missing: _runtimeMissing === null ? undefined : _runtimeMissing,\n      missingWarn: _missingWarn,\n      fallbackWarn: _fallbackWarn,\n      fallbackFormat: _fallbackFormat,\n      unresolving: true,\n      postTranslation: _postTranslation === null ? undefined : _postTranslation,\n      warnHtmlMessage: _warnHtmlMessage,\n      escapeParameter: _escapeParameter,\n      __datetimeFormatters: shared.isPlainObject(_context) ? _context.__datetimeFormatters : undefined,\n      __numberFormatters: shared.isPlainObject(_context) ? _context.__numberFormatters : undefined,\n      __v_emitter: shared.isPlainObject(_context) ? _context.__v_emitter : undefined,\n      __meta: {\n        framework: 'vue'\n      }\n    });\n  }\n\n  _context = getCoreContext();\n  coreBase.updateFallbackLocale(_context, _locale.value, _fallbackLocale.value); // track reactivity\n\n  function trackReactivityValues() {\n    return [_locale.value, _fallbackLocale.value, _messages.value, _datetimeFormats.value, _numberFormats.value];\n  } // locale\n\n\n  const locale = vue.computed({\n    get: () => _locale.value,\n    set: val => {\n      _locale.value = val;\n      _context.locale = _locale.value;\n    }\n  }); // fallbackLocale\n\n  const fallbackLocale = vue.computed({\n    get: () => _fallbackLocale.value,\n    set: val => {\n      _fallbackLocale.value = val;\n      _context.fallbackLocale = _fallbackLocale.value;\n      coreBase.updateFallbackLocale(_context, _locale.value, val);\n    }\n  }); // messages\n\n  const messages = vue.computed(() => _messages.value); // datetimeFormats\n\n  const datetimeFormats = vue.computed(() => _datetimeFormats.value); // numberFormats\n\n  const numberFormats = vue.computed(() => _numberFormats.value); // getPostTranslationHandler\n\n  function getPostTranslationHandler() {\n    return shared.isFunction(_postTranslation) ? _postTranslation : null;\n  } // setPostTranslationHandler\n\n\n  function setPostTranslationHandler(handler) {\n    _postTranslation = handler;\n    _context.postTranslation = handler;\n  } // getMissingHandler\n\n\n  function getMissingHandler() {\n    return _missing;\n  } // setMissingHandler\n\n\n  function setMissingHandler(handler) {\n    if (handler !== null) {\n      _runtimeMissing = defineCoreMissingHandler(handler);\n    }\n\n    _missing = handler;\n    _context.missing = _runtimeMissing;\n  }\n\n  function isResolvedTranslateMessage(type, arg // eslint-disable-line @typescript-eslint/no-explicit-any\n  ) {\n    return type !== 'translate' || !!arg.resolvedMessage === false;\n  }\n\n  function wrapWithDeps(fn, argumentParser, warnType, fallbackSuccess, fallbackFail, successCondition) {\n    trackReactivityValues(); // track reactive dependency\n    // NOTE: experimental !!\n\n    let ret;\n    {\n      try {\n        coreBase.setAdditionalMeta(getMetaInfo());\n        ret = fn(_context);\n      } finally {\n        coreBase.setAdditionalMeta(null);\n      }\n    }\n\n    if (shared.isNumber(ret) && ret === coreBase.NOT_REOSLVED) {\n      const [key, arg2] = argumentParser();\n\n      if (__root && shared.isString(key) && isResolvedTranslateMessage(warnType, arg2)) {\n        if (_fallbackRoot && (coreBase.isTranslateFallbackWarn(_fallbackWarn, key) || coreBase.isTranslateMissingWarn(_missingWarn, key))) {\n          shared.warn(getWarnMessage(6\n          /* FALLBACK_TO_ROOT */\n          , {\n            key,\n            type: warnType\n          }));\n        } // for vue-devtools timeline event\n\n\n        {\n          const {\n            __v_emitter: emitter\n          } = _context;\n\n          if (emitter && _fallbackRoot) {\n            emitter.emit(\"fallback\"\n            /* FALBACK */\n            , {\n              type: warnType,\n              key,\n              to: 'global',\n              groupId: `${warnType}:${key}`\n            });\n          }\n        }\n      }\n\n      return __root && _fallbackRoot ? fallbackSuccess(__root) : fallbackFail(key);\n    } else if (successCondition(ret)) {\n      return ret;\n    } else {\n      /* istanbul ignore next */\n      throw createI18nError(14\n      /* UNEXPECTED_RETURN_TYPE */\n      );\n    }\n  } // t\n\n\n  function t(...args) {\n    return wrapWithDeps(context => coreBase.translate(context, ...args), () => coreBase.parseTranslateArgs(...args), 'translate', root => root.t(...args), key => key, val => shared.isString(val));\n  } // rt\n\n\n  function rt(...args) {\n    const [arg1, arg2, arg3] = args;\n\n    if (arg3 && !shared.isObject(arg3)) {\n      throw createI18nError(15\n      /* INVALID_ARGUMENT */\n      );\n    }\n\n    return t(...[arg1, arg2, shared.assign({\n      resolvedMessage: true\n    }, arg3 || {})]);\n  } // d\n\n\n  function d(...args) {\n    return wrapWithDeps(context => coreBase.datetime(context, ...args), () => coreBase.parseDateTimeArgs(...args), 'datetime format', root => root.d(...args), () => coreBase.MISSING_RESOLVE_VALUE, val => shared.isString(val));\n  } // n\n\n\n  function n(...args) {\n    return wrapWithDeps(context => coreBase.number(context, ...args), () => coreBase.parseNumberArgs(...args), 'number format', root => root.n(...args), () => coreBase.MISSING_RESOLVE_VALUE, val => shared.isString(val));\n  } // for custom processor\n\n\n  function normalize(values) {\n    return values.map(val => shared.isString(val) ? vue.createVNode(vue.Text, null, val, 0) : val);\n  }\n\n  const interpolate = val => val;\n\n  const processor = {\n    normalize,\n    interpolate,\n    type: 'vnode'\n  }; // transrateVNode, using for `i18n-t` component\n\n  function transrateVNode(...args) {\n    return wrapWithDeps(context => {\n      let ret;\n      const _context = context;\n\n      try {\n        _context.processor = processor;\n        ret = coreBase.translate(_context, ...args);\n      } finally {\n        _context.processor = null;\n      }\n\n      return ret;\n    }, () => coreBase.parseTranslateArgs(...args), 'translate', // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    root => root[TransrateVNodeSymbol](...args), key => [vue.createVNode(vue.Text, null, key, 0)], val => shared.isArray(val));\n  } // numberParts, using for `i18n-n` component\n\n\n  function numberParts(...args) {\n    return wrapWithDeps(context => coreBase.number(context, ...args), () => coreBase.parseNumberArgs(...args), 'number format', // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    root => root[NumberPartsSymbol](...args), () => [], val => shared.isString(val) || shared.isArray(val));\n  } // datetimeParts, using for `i18n-d` component\n\n\n  function datetimeParts(...args) {\n    return wrapWithDeps(context => coreBase.datetime(context, ...args), () => coreBase.parseDateTimeArgs(...args), 'datetime format', // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    root => root[DatetimePartsSymbol](...args), () => [], val => shared.isString(val) || shared.isArray(val));\n  }\n\n  function setPluralRules(rules) {\n    _pluralRules = rules;\n    _context.pluralRules = _pluralRules;\n  } // te\n\n\n  function te(key, locale) {\n    const targetLocale = shared.isString(locale) ? locale : _locale.value;\n    const message = getLocaleMessage(targetLocale);\n    return coreBase.resolveValue(message, key) !== null;\n  }\n\n  function resolveMessages(key) {\n    let messages = null;\n    const locales = coreBase.getLocaleChain(_context, _fallbackLocale.value, _locale.value);\n\n    for (let i = 0; i < locales.length; i++) {\n      const targetLocaleMessages = _messages.value[locales[i]] || {};\n      const messageValue = coreBase.resolveValue(targetLocaleMessages, key);\n\n      if (messageValue != null) {\n        messages = messageValue;\n        break;\n      }\n    }\n\n    return messages;\n  } // tm\n\n\n  function tm(key) {\n    const messages = resolveMessages(key); // prettier-ignore\n\n    return messages != null ? messages : __root ? __root.tm(key) || {} : {};\n  } // getLocaleMessage\n\n\n  function getLocaleMessage(locale) {\n    return _messages.value[locale] || {};\n  } // setLocaleMessage\n\n\n  function setLocaleMessage(locale, message) {\n    _messages.value[locale] = message;\n    _context.messages = _messages.value;\n  } // mergeLocaleMessage\n\n\n  function mergeLocaleMessage(locale, message) {\n    _messages.value[locale] = _messages.value[locale] || {};\n    deepCopy(message, _messages.value[locale]);\n    _context.messages = _messages.value;\n  } // getDateTimeFormat\n\n\n  function getDateTimeFormat(locale) {\n    return _datetimeFormats.value[locale] || {};\n  } // setDateTimeFormat\n\n\n  function setDateTimeFormat(locale, format) {\n    _datetimeFormats.value[locale] = format;\n    _context.datetimeFormats = _datetimeFormats.value;\n    coreBase.clearDateTimeFormat(_context, locale, format);\n  } // mergeDateTimeFormat\n\n\n  function mergeDateTimeFormat(locale, format) {\n    _datetimeFormats.value[locale] = shared.assign(_datetimeFormats.value[locale] || {}, format);\n    _context.datetimeFormats = _datetimeFormats.value;\n    coreBase.clearDateTimeFormat(_context, locale, format);\n  } // getNumberFormat\n\n\n  function getNumberFormat(locale) {\n    return _numberFormats.value[locale] || {};\n  } // setNumberFormat\n\n\n  function setNumberFormat(locale, format) {\n    _numberFormats.value[locale] = format;\n    _context.numberFormats = _numberFormats.value;\n    coreBase.clearNumberFormat(_context, locale, format);\n  } // mergeNumberFormat\n\n\n  function mergeNumberFormat(locale, format) {\n    _numberFormats.value[locale] = shared.assign(_numberFormats.value[locale] || {}, format);\n    _context.numberFormats = _numberFormats.value;\n    coreBase.clearNumberFormat(_context, locale, format);\n  } // for debug\n\n\n  composerID++; // watch root locale & fallbackLocale\n\n  if (__root) {\n    vue.watch(__root.locale, val => {\n      if (_inheritLocale) {\n        _locale.value = val;\n        _context.locale = val;\n        coreBase.updateFallbackLocale(_context, _locale.value, _fallbackLocale.value);\n      }\n    });\n    vue.watch(__root.fallbackLocale, val => {\n      if (_inheritLocale) {\n        _fallbackLocale.value = val;\n        _context.fallbackLocale = val;\n        coreBase.updateFallbackLocale(_context, _locale.value, _fallbackLocale.value);\n      }\n    });\n  } // define composition API!\n\n\n  const composer = {\n    id: composerID,\n    locale,\n    fallbackLocale,\n\n    get inheritLocale() {\n      return _inheritLocale;\n    },\n\n    set inheritLocale(val) {\n      _inheritLocale = val;\n\n      if (val && __root) {\n        _locale.value = __root.locale.value;\n        _fallbackLocale.value = __root.fallbackLocale.value;\n        coreBase.updateFallbackLocale(_context, _locale.value, _fallbackLocale.value);\n      }\n    },\n\n    get availableLocales() {\n      return Object.keys(_messages.value).sort();\n    },\n\n    messages,\n    datetimeFormats,\n    numberFormats,\n\n    get modifiers() {\n      return _modifiers;\n    },\n\n    get pluralRules() {\n      return _pluralRules || {};\n    },\n\n    get isGlobal() {\n      return _isGlobal;\n    },\n\n    get missingWarn() {\n      return _missingWarn;\n    },\n\n    set missingWarn(val) {\n      _missingWarn = val;\n      _context.missingWarn = _missingWarn;\n    },\n\n    get fallbackWarn() {\n      return _fallbackWarn;\n    },\n\n    set fallbackWarn(val) {\n      _fallbackWarn = val;\n      _context.fallbackWarn = _fallbackWarn;\n    },\n\n    get fallbackRoot() {\n      return _fallbackRoot;\n    },\n\n    set fallbackRoot(val) {\n      _fallbackRoot = val;\n    },\n\n    get fallbackFormat() {\n      return _fallbackFormat;\n    },\n\n    set fallbackFormat(val) {\n      _fallbackFormat = val;\n      _context.fallbackFormat = _fallbackFormat;\n    },\n\n    get warnHtmlMessage() {\n      return _warnHtmlMessage;\n    },\n\n    set warnHtmlMessage(val) {\n      _warnHtmlMessage = val;\n      _context.warnHtmlMessage = val;\n    },\n\n    get escapeParameter() {\n      return _escapeParameter;\n    },\n\n    set escapeParameter(val) {\n      _escapeParameter = val;\n      _context.escapeParameter = val;\n    },\n\n    t,\n    rt,\n    d,\n    n,\n    te,\n    tm,\n    getLocaleMessage,\n    setLocaleMessage,\n    mergeLocaleMessage,\n    getDateTimeFormat,\n    setDateTimeFormat,\n    mergeDateTimeFormat,\n    getNumberFormat,\n    setNumberFormat,\n    mergeNumberFormat,\n    getPostTranslationHandler,\n    setPostTranslationHandler,\n    getMissingHandler,\n    setMissingHandler,\n    [TransrateVNodeSymbol]: transrateVNode,\n    [NumberPartsSymbol]: numberParts,\n    [DatetimePartsSymbol]: datetimeParts,\n    [SetPluralRulesSymbol]: setPluralRules,\n    [InejctWithOption]: options.__injectWithOption // eslint-disable-line @typescript-eslint/no-explicit-any\n\n  }; // for vue-devtools timeline event\n\n  {\n    composer[EnableEmitter] = emitter => {\n      _context.__v_emitter = emitter;\n    };\n\n    composer[DisableEmitter] = () => {\n      _context.__v_emitter = undefined;\n    };\n  }\n  return composer;\n}\n/**\r\n * Convert to I18n Composer Options from VueI18n Options\r\n *\r\n * @internal\r\n */\n\n\nfunction convertComposerOptions(options) {\n  const locale = shared.isString(options.locale) ? options.locale : 'en-US';\n  const fallbackLocale = shared.isString(options.fallbackLocale) || shared.isArray(options.fallbackLocale) || shared.isPlainObject(options.fallbackLocale) || options.fallbackLocale === false ? options.fallbackLocale : locale;\n  const missing = shared.isFunction(options.missing) ? options.missing : undefined;\n  const missingWarn = shared.isBoolean(options.silentTranslationWarn) || shared.isRegExp(options.silentTranslationWarn) ? !options.silentTranslationWarn : true;\n  const fallbackWarn = shared.isBoolean(options.silentFallbackWarn) || shared.isRegExp(options.silentFallbackWarn) ? !options.silentFallbackWarn : true;\n  const fallbackRoot = shared.isBoolean(options.fallbackRoot) ? options.fallbackRoot : true;\n  const fallbackFormat = !!options.formatFallbackMessages;\n  const modifiers = shared.isPlainObject(options.modifiers) ? options.modifiers : {};\n  const pluralizationRules = options.pluralizationRules;\n  const postTranslation = shared.isFunction(options.postTranslation) ? options.postTranslation : undefined;\n  const warnHtmlMessage = shared.isString(options.warnHtmlInMessage) ? options.warnHtmlInMessage !== 'off' : true;\n  const escapeParameter = !!options.escapeParameterHtml;\n  const inheritLocale = shared.isBoolean(options.sync) ? options.sync : true;\n\n  if (options.formatter) {\n    shared.warn(getWarnMessage(8\n    /* NOT_SUPPORTED_FORMATTER */\n    ));\n  }\n\n  if (options.preserveDirectiveContent) {\n    shared.warn(getWarnMessage(9\n    /* NOT_SUPPORTED_PRESERVE_DIRECTIVE */\n    ));\n  }\n\n  let messages = options.messages;\n\n  if (shared.isPlainObject(options.sharedMessages)) {\n    const sharedMessages = options.sharedMessages;\n    const locales = Object.keys(sharedMessages);\n    messages = locales.reduce((messages, locale) => {\n      const message = messages[locale] || (messages[locale] = {});\n      shared.assign(message, sharedMessages[locale]);\n      return messages;\n    }, messages || {});\n  }\n\n  const {\n    __i18n,\n    __root,\n    __injectWithOption\n  } = options;\n  const datetimeFormats = options.datetimeFormats;\n  const numberFormats = options.numberFormats;\n  const flatJson = options.flatJson;\n  return {\n    locale,\n    fallbackLocale,\n    messages,\n    flatJson,\n    datetimeFormats,\n    numberFormats,\n    missing,\n    missingWarn,\n    fallbackWarn,\n    fallbackRoot,\n    fallbackFormat,\n    modifiers,\n    pluralRules: pluralizationRules,\n    postTranslation,\n    warnHtmlMessage,\n    escapeParameter,\n    inheritLocale,\n    __i18n,\n    __root,\n    __injectWithOption\n  };\n}\n/**\r\n * create VueI18n interface factory\r\n *\r\n * @internal\r\n */\n\n\nfunction createVueI18n(options = {}) {\n  const composer = createComposer(convertComposerOptions(options)); // defines VueI18n\n\n  const vueI18n = {\n    // id\n    id: composer.id,\n\n    // locale\n    get locale() {\n      return composer.locale.value;\n    },\n\n    set locale(val) {\n      composer.locale.value = val;\n    },\n\n    // fallbackLocale\n    get fallbackLocale() {\n      return composer.fallbackLocale.value;\n    },\n\n    set fallbackLocale(val) {\n      composer.fallbackLocale.value = val;\n    },\n\n    // messages\n    get messages() {\n      return composer.messages.value;\n    },\n\n    // datetimeFormats\n    get datetimeFormats() {\n      return composer.datetimeFormats.value;\n    },\n\n    // numberFormats\n    get numberFormats() {\n      return composer.numberFormats.value;\n    },\n\n    // availableLocales\n    get availableLocales() {\n      return composer.availableLocales;\n    },\n\n    // formatter\n    get formatter() {\n      shared.warn(getWarnMessage(8\n      /* NOT_SUPPORTED_FORMATTER */\n      )); // dummy\n\n      return {\n        interpolate() {\n          return [];\n        }\n\n      };\n    },\n\n    set formatter(val) {\n      shared.warn(getWarnMessage(8\n      /* NOT_SUPPORTED_FORMATTER */\n      ));\n    },\n\n    // missing\n    get missing() {\n      return composer.getMissingHandler();\n    },\n\n    set missing(handler) {\n      composer.setMissingHandler(handler);\n    },\n\n    // silentTranslationWarn\n    get silentTranslationWarn() {\n      return shared.isBoolean(composer.missingWarn) ? !composer.missingWarn : composer.missingWarn;\n    },\n\n    set silentTranslationWarn(val) {\n      composer.missingWarn = shared.isBoolean(val) ? !val : val;\n    },\n\n    // silentFallbackWarn\n    get silentFallbackWarn() {\n      return shared.isBoolean(composer.fallbackWarn) ? !composer.fallbackWarn : composer.fallbackWarn;\n    },\n\n    set silentFallbackWarn(val) {\n      composer.fallbackWarn = shared.isBoolean(val) ? !val : val;\n    },\n\n    // modifiers\n    get modifiers() {\n      return composer.modifiers;\n    },\n\n    // formatFallbackMessages\n    get formatFallbackMessages() {\n      return composer.fallbackFormat;\n    },\n\n    set formatFallbackMessages(val) {\n      composer.fallbackFormat = val;\n    },\n\n    // postTranslation\n    get postTranslation() {\n      return composer.getPostTranslationHandler();\n    },\n\n    set postTranslation(handler) {\n      composer.setPostTranslationHandler(handler);\n    },\n\n    // sync\n    get sync() {\n      return composer.inheritLocale;\n    },\n\n    set sync(val) {\n      composer.inheritLocale = val;\n    },\n\n    // warnInHtmlMessage\n    get warnHtmlInMessage() {\n      return composer.warnHtmlMessage ? 'warn' : 'off';\n    },\n\n    set warnHtmlInMessage(val) {\n      composer.warnHtmlMessage = val !== 'off';\n    },\n\n    // escapeParameterHtml\n    get escapeParameterHtml() {\n      return composer.escapeParameter;\n    },\n\n    set escapeParameterHtml(val) {\n      composer.escapeParameter = val;\n    },\n\n    // preserveDirectiveContent\n    get preserveDirectiveContent() {\n      shared.warn(getWarnMessage(9\n      /* NOT_SUPPORTED_PRESERVE_DIRECTIVE */\n      ));\n      return true;\n    },\n\n    set preserveDirectiveContent(val) {\n      shared.warn(getWarnMessage(9\n      /* NOT_SUPPORTED_PRESERVE_DIRECTIVE */\n      ));\n    },\n\n    // pluralizationRules\n    get pluralizationRules() {\n      return composer.pluralRules || {};\n    },\n\n    // for internal\n    __composer: composer,\n\n    // t\n    t(...args) {\n      const [arg1, arg2, arg3] = args;\n      const options = {};\n      let list = null;\n      let named = null;\n\n      if (!shared.isString(arg1)) {\n        throw createI18nError(15\n        /* INVALID_ARGUMENT */\n        );\n      }\n\n      const key = arg1;\n\n      if (shared.isString(arg2)) {\n        options.locale = arg2;\n      } else if (shared.isArray(arg2)) {\n        list = arg2;\n      } else if (shared.isPlainObject(arg2)) {\n        named = arg2;\n      }\n\n      if (shared.isArray(arg3)) {\n        list = arg3;\n      } else if (shared.isPlainObject(arg3)) {\n        named = arg3;\n      }\n\n      return composer.t(key, list || named || {}, options);\n    },\n\n    rt(...args) {\n      return composer.rt(...args);\n    },\n\n    // tc\n    tc(...args) {\n      const [arg1, arg2, arg3] = args;\n      const options = {\n        plural: 1\n      };\n      let list = null;\n      let named = null;\n\n      if (!shared.isString(arg1)) {\n        throw createI18nError(15\n        /* INVALID_ARGUMENT */\n        );\n      }\n\n      const key = arg1;\n\n      if (shared.isString(arg2)) {\n        options.locale = arg2;\n      } else if (shared.isNumber(arg2)) {\n        options.plural = arg2;\n      } else if (shared.isArray(arg2)) {\n        list = arg2;\n      } else if (shared.isPlainObject(arg2)) {\n        named = arg2;\n      }\n\n      if (shared.isString(arg3)) {\n        options.locale = arg3;\n      } else if (shared.isArray(arg3)) {\n        list = arg3;\n      } else if (shared.isPlainObject(arg3)) {\n        named = arg3;\n      }\n\n      return composer.t(key, list || named || {}, options);\n    },\n\n    // te\n    te(key, locale) {\n      return composer.te(key, locale);\n    },\n\n    // tm\n    tm(key) {\n      return composer.tm(key);\n    },\n\n    // getLocaleMessage\n    getLocaleMessage(locale) {\n      return composer.getLocaleMessage(locale);\n    },\n\n    // setLocaleMessage\n    setLocaleMessage(locale, message) {\n      composer.setLocaleMessage(locale, message);\n    },\n\n    // mergeLocaleMessage\n    mergeLocaleMessage(locale, message) {\n      composer.mergeLocaleMessage(locale, message);\n    },\n\n    // d\n    d(...args) {\n      return composer.d(...args);\n    },\n\n    // getDateTimeFormat\n    getDateTimeFormat(locale) {\n      return composer.getDateTimeFormat(locale);\n    },\n\n    // setDateTimeFormat\n    setDateTimeFormat(locale, format) {\n      composer.setDateTimeFormat(locale, format);\n    },\n\n    // mergeDateTimeFormat\n    mergeDateTimeFormat(locale, format) {\n      composer.mergeDateTimeFormat(locale, format);\n    },\n\n    // n\n    n(...args) {\n      return composer.n(...args);\n    },\n\n    // getNumberFormat\n    getNumberFormat(locale) {\n      return composer.getNumberFormat(locale);\n    },\n\n    // setNumberFormat\n    setNumberFormat(locale, format) {\n      composer.setNumberFormat(locale, format);\n    },\n\n    // mergeNumberFormat\n    mergeNumberFormat(locale, format) {\n      composer.mergeNumberFormat(locale, format);\n    },\n\n    // getChoiceIndex\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    getChoiceIndex(choice, choicesLength) {\n      shared.warn(getWarnMessage(10\n      /* NOT_SUPPORTED_GET_CHOICE_INDEX */\n      ));\n      return -1;\n    },\n\n    // for internal\n    __onComponentInstanceCreated(target) {\n      const {\n        componentInstanceCreatedListener\n      } = options;\n\n      if (componentInstanceCreatedListener) {\n        componentInstanceCreatedListener(target, vueI18n);\n      }\n    }\n\n  }; // for vue-devtools timeline event\n\n  {\n    vueI18n.__enableEmitter = emitter => {\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      const __composer = composer;\n      __composer[EnableEmitter] && __composer[EnableEmitter](emitter);\n    };\n\n    vueI18n.__disableEmitter = () => {\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      const __composer = composer;\n      __composer[DisableEmitter] && __composer[DisableEmitter]();\n    };\n  }\n  return vueI18n;\n}\n\nconst baseFormatProps = {\n  tag: {\n    type: [String, Object]\n  },\n  locale: {\n    type: String\n  },\n  scope: {\n    type: String,\n    validator: val => val === 'parent' || val === 'global',\n    default: 'parent'\n  },\n  i18n: {\n    type: Object\n  }\n};\n/**\r\n * Translation Component\r\n *\r\n * @remarks\r\n * See the following items for property about details\r\n *\r\n * @VueI18nSee [TranslationProps](component#translationprops)\r\n * @VueI18nSee [BaseFormatProps](component#baseformatprops)\r\n * @VueI18nSee [Component Interpolation](../guide/advanced/component)\r\n *\r\n * @example\r\n * ```html\r\n * <div id=\"app\">\r\n *   <!-- ... -->\r\n *   <i18n path=\"term\" tag=\"label\" for=\"tos\">\r\n *     <a :href=\"url\" target=\"_blank\">{{ $t('tos') }}</a>\r\n *   </i18n>\r\n *   <!-- ... -->\r\n * </div>\r\n * ```\r\n * ```js\r\n * import { createApp } from 'vue'\r\n * import { createI18n } from 'vue-i18n'\r\n *\r\n * const messages = {\r\n *   en: {\r\n *     tos: 'Term of Service',\r\n *     term: 'I accept xxx {0}.'\r\n *   },\r\n *   ja: {\r\n *     tos: '利用規約',\r\n *     term: '私は xxx の{0}に同意します。'\r\n *   }\r\n * }\r\n *\r\n * const i18n = createI18n({\r\n *   locale: 'en',\r\n *   messages\r\n * })\r\n *\r\n * const app = createApp({\r\n *   data: {\r\n *     url: '/term'\r\n *   }\r\n * }).use(i18n).mount('#app')\r\n * ```\r\n *\r\n * @VueI18nComponent\r\n */\n\nconst Translation = {\n  /* eslint-disable */\n  name: 'i18n-t',\n  props: shared.assign({\n    keypath: {\n      type: String,\n      required: true\n    },\n    plural: {\n      type: [Number, String],\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      validator: val => shared.isNumber(val) || !isNaN(val)\n    }\n  }, baseFormatProps),\n\n  /* eslint-enable */\n  setup(props, context) {\n    const {\n      slots,\n      attrs\n    } = context;\n    const i18n = props.i18n || useI18n({\n      useScope: props.scope,\n      __useComponent: true\n    });\n    const keys = Object.keys(slots).filter(key => key !== '_');\n    return () => {\n      const options = {};\n\n      if (props.locale) {\n        options.locale = props.locale;\n      }\n\n      if (props.plural !== undefined) {\n        options.plural = shared.isString(props.plural) ? +props.plural : props.plural;\n      }\n\n      const arg = getInterpolateArg(context, keys); // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n      const children = i18n[TransrateVNodeSymbol](props.keypath, arg, options);\n      const assignedAttrs = shared.assign({}, attrs); // prettier-ignore\n\n      return shared.isString(props.tag) ? vue.h(props.tag, assignedAttrs, children) : shared.isObject(props.tag) ? vue.h(props.tag, assignedAttrs, children) : vue.h(vue.Fragment, assignedAttrs, children);\n    };\n  }\n\n};\n\nfunction getInterpolateArg({\n  slots\n}, keys) {\n  if (keys.length === 1 && keys[0] === 'default') {\n    // default slot only\n    return slots.default ? slots.default() : [];\n  } else {\n    // named slots\n    return keys.reduce((arg, key) => {\n      const slot = slots[key];\n\n      if (slot) {\n        arg[key] = slot();\n      }\n\n      return arg;\n    }, {});\n  }\n}\n\nfunction renderFormatter(props, context, slotKeys, partFormatter) {\n  const {\n    slots,\n    attrs\n  } = context;\n  return () => {\n    const options = {\n      part: true\n    };\n    let overrides = {};\n\n    if (props.locale) {\n      options.locale = props.locale;\n    }\n\n    if (shared.isString(props.format)) {\n      options.key = props.format;\n    } else if (shared.isObject(props.format)) {\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      if (shared.isString(props.format.key)) {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        options.key = props.format.key;\n      } // Filter out number format options only\n\n\n      overrides = Object.keys(props.format).reduce((options, prop) => {\n        return slotKeys.includes(prop) ? shared.assign({}, options, {\n          [prop]: props.format[prop]\n        }) // eslint-disable-line @typescript-eslint/no-explicit-any\n        : options;\n      }, {});\n    }\n\n    const parts = partFormatter(...[props.value, options, overrides]);\n    let children = [options.key];\n\n    if (shared.isArray(parts)) {\n      children = parts.map((part, index) => {\n        const slot = slots[part.type];\n        return slot ? slot({\n          [part.type]: part.value,\n          index,\n          parts\n        }) : [part.value];\n      });\n    } else if (shared.isString(parts)) {\n      children = [parts];\n    }\n\n    const assignedAttrs = shared.assign({}, attrs); // prettier-ignore\n\n    return shared.isString(props.tag) ? vue.h(props.tag, assignedAttrs, children) : shared.isObject(props.tag) ? vue.h(props.tag, assignedAttrs, children) : vue.h(vue.Fragment, assignedAttrs, children);\n  };\n}\n\nconst NUMBER_FORMAT_KEYS = ['localeMatcher', 'style', 'unit', 'unitDisplay', 'currency', 'currencyDisplay', 'useGrouping', 'numberingSystem', 'minimumIntegerDigits', 'minimumFractionDigits', 'maximumFractionDigits', 'minimumSignificantDigits', 'maximumSignificantDigits', 'notation', 'formatMatcher'];\n/**\r\n * Number Format Component\r\n *\r\n * @remarks\r\n * See the following items for property about details\r\n *\r\n * @VueI18nSee [FormattableProps](component#formattableprops)\r\n * @VueI18nSee [BaseFormatProps](component#baseformatprops)\r\n * @VueI18nSee [Custom Formatting](../guide/essentials/number#custom-formatting)\r\n *\r\n * @VueI18nDanger\r\n * Not supported IE, due to no support `Intl.NumberFormat#formatToParts` in [IE](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/NumberFormat/formatToParts)\r\n *\r\n * If you want to use it, you need to use [polyfill](https://github.com/formatjs/formatjs/tree/main/packages/intl-numberformat)\r\n *\r\n * @VueI18nComponent\r\n */\n\nconst NumberFormat = {\n  /* eslint-disable */\n  name: 'i18n-n',\n  props: shared.assign({\n    value: {\n      type: Number,\n      required: true\n    },\n    format: {\n      type: [String, Object]\n    }\n  }, baseFormatProps),\n\n  /* eslint-enable */\n  setup(props, context) {\n    const i18n = props.i18n || useI18n({\n      useScope: 'parent',\n      __useComponent: true\n    });\n    return renderFormatter(props, context, NUMBER_FORMAT_KEYS, (...args) => // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    i18n[NumberPartsSymbol](...args));\n  }\n\n};\nconst DATETIME_FORMAT_KEYS = ['dateStyle', 'timeStyle', 'fractionalSecondDigits', 'calendar', 'dayPeriod', 'numberingSystem', 'localeMatcher', 'timeZone', 'hour12', 'hourCycle', 'formatMatcher', 'weekday', 'era', 'year', 'month', 'day', 'hour', 'minute', 'second', 'timeZoneName'];\n/**\r\n * Datetime Format Component\r\n *\r\n * @remarks\r\n * See the following items for property about details\r\n *\r\n * @VueI18nSee [FormattableProps](component#formattableprops)\r\n * @VueI18nSee [BaseFormatProps](component#baseformatprops)\r\n * @VueI18nSee [Custom Formatting](../guide/essentials/datetime#custom-formatting)\r\n *\r\n * @VueI18nDanger\r\n * Not supported IE, due to no support `Intl.DateTimeFormat#formatToParts` in [IE](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/DateTimeFormat/formatToParts)\r\n *\r\n * If you want to use it, you need to use [polyfill](https://github.com/formatjs/formatjs/tree/main/packages/intl-datetimeformat)\r\n *\r\n * @VueI18nComponent\r\n */\n\nconst DatetimeFormat = {\n  /* eslint-disable */\n  name: 'i18n-d',\n  props: shared.assign({\n    value: {\n      type: [Number, Date],\n      required: true\n    },\n    format: {\n      type: [String, Object]\n    }\n  }, baseFormatProps),\n\n  /* eslint-enable */\n  setup(props, context) {\n    const i18n = props.i18n || useI18n({\n      useScope: 'parent',\n      __useComponent: true\n    });\n    return renderFormatter(props, context, DATETIME_FORMAT_KEYS, (...args) => // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    i18n[DatetimePartsSymbol](...args));\n  }\n\n};\n\nfunction getComposer$1(i18n, instance) {\n  const i18nInternal = i18n;\n\n  if (i18n.mode === 'composition') {\n    return i18nInternal.__getInstance(instance) || i18n.global;\n  } else {\n    const vueI18n = i18nInternal.__getInstance(instance);\n\n    return vueI18n != null ? vueI18n.__composer : i18n.global.__composer;\n  }\n}\n\nfunction vTDirective(i18n) {\n  const bind = (el, {\n    instance,\n    value,\n    modifiers\n  }) => {\n    /* istanbul ignore if */\n    if (!instance || !instance.$) {\n      throw createI18nError(22\n      /* UNEXPECTED_ERROR */\n      );\n    }\n\n    const composer = getComposer$1(i18n, instance.$);\n\n    if (modifiers.preserve) {\n      shared.warn(getWarnMessage(7\n      /* NOT_SUPPORTED_PRESERVE */\n      ));\n    }\n\n    const parsedValue = parseValue(value);\n    el.textContent = composer.t(...makeParams(parsedValue));\n  };\n\n  return {\n    beforeMount: bind,\n    beforeUpdate: bind\n  };\n}\n\nfunction parseValue(value) {\n  if (shared.isString(value)) {\n    return {\n      path: value\n    };\n  } else if (shared.isPlainObject(value)) {\n    if (!('path' in value)) {\n      throw createI18nError(19\n      /* REQUIRED_VALUE */\n      , 'path');\n    }\n\n    return value;\n  } else {\n    throw createI18nError(20\n    /* INVALID_VALUE */\n    );\n  }\n}\n\nfunction makeParams(value) {\n  const {\n    path,\n    locale,\n    args,\n    choice,\n    plural\n  } = value;\n  const options = {};\n  const named = args || {};\n\n  if (shared.isString(locale)) {\n    options.locale = locale;\n  }\n\n  if (shared.isNumber(choice)) {\n    options.plural = choice;\n  }\n\n  if (shared.isNumber(plural)) {\n    options.plural = plural;\n  }\n\n  return [path, named, options];\n}\n\nfunction apply(app, i18n, ...options) {\n  const pluginOptions = shared.isPlainObject(options[0]) ? options[0] : {};\n  const useI18nComponentName = !!pluginOptions.useI18nComponentName;\n  const globalInstall = shared.isBoolean(pluginOptions.globalInstall) ? pluginOptions.globalInstall : true;\n\n  if (globalInstall && useI18nComponentName) {\n    shared.warn(getWarnMessage(11\n    /* COMPONENT_NAME_LEGACY_COMPATIBLE */\n    , {\n      name: Translation.name\n    }));\n  }\n\n  if (globalInstall) {\n    // install components\n    app.component(!useI18nComponentName ? Translation.name : 'i18n', Translation);\n    app.component(NumberFormat.name, NumberFormat);\n    app.component(DatetimeFormat.name, DatetimeFormat);\n  } // install directive\n\n\n  app.directive('t', vTDirective(i18n));\n} // supports compatibility for legacy vue-i18n APIs\n\n\nfunction defineMixin(vuei18n, composer, i18n) {\n  return {\n    beforeCreate() {\n      const instance = vue.getCurrentInstance();\n      /* istanbul ignore if */\n\n      if (!instance) {\n        throw createI18nError(22\n        /* UNEXPECTED_ERROR */\n        );\n      }\n\n      const options = this.$options;\n\n      if (options.i18n) {\n        const optionsI18n = options.i18n;\n\n        if (options.__i18n) {\n          optionsI18n.__i18n = options.__i18n;\n        }\n\n        optionsI18n.__root = composer;\n\n        if (this === this.$root) {\n          this.$i18n = mergeToRoot(vuei18n, optionsI18n);\n        } else {\n          optionsI18n.__injectWithOption = true;\n          this.$i18n = createVueI18n(optionsI18n);\n        }\n      } else if (options.__i18n) {\n        if (this === this.$root) {\n          this.$i18n = mergeToRoot(vuei18n, options);\n        } else {\n          this.$i18n = createVueI18n({\n            __i18n: options.__i18n,\n            __injectWithOption: true,\n            __root: composer\n          });\n        }\n      } else {\n        // set global\n        this.$i18n = vuei18n;\n      }\n\n      vuei18n.__onComponentInstanceCreated(this.$i18n);\n\n      i18n.__setInstance(instance, this.$i18n); // defines vue-i18n legacy APIs\n\n\n      this.$t = (...args) => this.$i18n.t(...args);\n\n      this.$rt = (...args) => this.$i18n.rt(...args);\n\n      this.$tc = (...args) => this.$i18n.tc(...args);\n\n      this.$te = (key, locale) => this.$i18n.te(key, locale);\n\n      this.$d = (...args) => this.$i18n.d(...args);\n\n      this.$n = (...args) => this.$i18n.n(...args);\n\n      this.$tm = key => this.$i18n.tm(key);\n    },\n\n    mounted() {},\n\n    beforeUnmount() {\n      const instance = vue.getCurrentInstance();\n      /* istanbul ignore if */\n\n      if (!instance) {\n        throw createI18nError(22\n        /* UNEXPECTED_ERROR */\n        );\n      }\n\n      delete this.$t;\n      delete this.$rt;\n      delete this.$tc;\n      delete this.$te;\n      delete this.$d;\n      delete this.$n;\n      delete this.$tm;\n\n      i18n.__deleteInstance(instance);\n\n      delete this.$i18n;\n    }\n\n  };\n}\n\nfunction mergeToRoot(root, options) {\n  root.locale = options.locale || root.locale;\n  root.fallbackLocale = options.fallbackLocale || root.fallbackLocale;\n  root.missing = options.missing || root.missing;\n  root.silentTranslationWarn = options.silentTranslationWarn || root.silentFallbackWarn;\n  root.silentFallbackWarn = options.silentFallbackWarn || root.silentFallbackWarn;\n  root.formatFallbackMessages = options.formatFallbackMessages || root.formatFallbackMessages;\n  root.postTranslation = options.postTranslation || root.postTranslation;\n  root.warnHtmlInMessage = options.warnHtmlInMessage || root.warnHtmlInMessage;\n  root.escapeParameterHtml = options.escapeParameterHtml || root.escapeParameterHtml;\n  root.sync = options.sync || root.sync;\n\n  root.__composer[SetPluralRulesSymbol](options.pluralizationRules || root.pluralizationRules);\n\n  const messages = getLocaleMessages(root.locale, {\n    messages: options.messages,\n    __i18n: options.__i18n\n  });\n  Object.keys(messages).forEach(locale => root.mergeLocaleMessage(locale, messages[locale]));\n\n  if (options.datetimeFormats) {\n    Object.keys(options.datetimeFormats).forEach(locale => root.mergeDateTimeFormat(locale, options.datetimeFormats[locale]));\n  }\n\n  if (options.numberFormats) {\n    Object.keys(options.numberFormats).forEach(locale => root.mergeNumberFormat(locale, options.numberFormats[locale]));\n  }\n\n  return root;\n}\n/**\r\n * Vue I18n factory\r\n *\r\n * @param options - An options, see the {@link I18nOptions}\r\n *\r\n * @returns {@link I18n} instance\r\n *\r\n * @remarks\r\n * If you use Legacy API mode, you need toto specify {@link VueI18nOptions} and `legacy: true` option.\r\n *\r\n * If you use composition API mode, you need to specify {@link ComposerOptions}.\r\n *\r\n * @VueI18nSee [Getting Started](../guide/)\r\n * @VueI18nSee [Composition API](../guide/advanced/composition)\r\n *\r\n * @example\r\n * case: for Legacy API\r\n * ```js\r\n * import { createApp } from 'vue'\r\n * import { createI18n } from 'vue-i18n'\r\n *\r\n * // call with I18n option\r\n * const i18n = createI18n({\r\n *   locale: 'ja',\r\n *   messages: {\r\n *     en: { ... },\r\n *     ja: { ... }\r\n *   }\r\n * })\r\n *\r\n * const App = {\r\n *   // ...\r\n * }\r\n *\r\n * const app = createApp(App)\r\n *\r\n * // install!\r\n * app.use(i18n)\r\n * app.mount('#app')\r\n * ```\r\n *\r\n * @example\r\n * case: for composition API\r\n * ```js\r\n * import { createApp } from 'vue'\r\n * import { createI18n, useI18n } from 'vue-i18n'\r\n *\r\n * // call with I18n option\r\n * const i18n = createI18n({\r\n *   legacy: false, // you must specify 'legacy: false' option\r\n *   locale: 'ja',\r\n *   messages: {\r\n *     en: { ... },\r\n *     ja: { ... }\r\n *   }\r\n * })\r\n *\r\n * const App = {\r\n *   setup() {\r\n *     // ...\r\n *     const { t } = useI18n({ ... })\r\n *     return { ... , t }\r\n *   }\r\n * }\r\n *\r\n * const app = createApp(App)\r\n *\r\n * // install!\r\n * app.use(i18n)\r\n * app.mount('#app')\r\n * ```\r\n *\r\n * @VueI18nGeneral\r\n */\n\n\nfunction createI18n(options = {}) {\n  // prettier-ignore\n  const __legacyMode = shared.isBoolean(options.legacy) ? options.legacy : true;\n\n  const __globalInjection = !!options.globalInjection;\n\n  const __instances = new Map(); // prettier-ignore\n\n\n  const __global = __legacyMode ? createVueI18n(options) : createComposer(options);\n\n  const symbol = shared.makeSymbol('vue-i18n');\n  const i18n = {\n    // mode\n    get mode() {\n      // prettier-ignore\n      return __legacyMode ? 'legacy' : 'composition';\n    },\n\n    // install plugin\n    async install(app, ...options) {\n      // setup global provider\n      app.__VUE_I18N_SYMBOL__ = symbol;\n      app.provide(app.__VUE_I18N_SYMBOL__, i18n); // global method and properties injection for Composition API\n\n      if (!__legacyMode && __globalInjection) {\n        injectGlobalFields(app, i18n.global);\n      } // install built-in components and directive\n\n\n      {\n        apply(app, i18n, ...options);\n      } // setup mixin for Legacy API\n\n      if (__legacyMode) {\n        app.mixin(defineMixin(__global, __global.__composer, i18n));\n      }\n    },\n\n    // global accessor\n    get global() {\n      return __global;\n    },\n\n    // @internal\n    __instances,\n\n    // @internal\n    __getInstance(component) {\n      return __instances.get(component) || null;\n    },\n\n    // @internal\n    __setInstance(component, instance) {\n      __instances.set(component, instance);\n    },\n\n    // @internal\n    __deleteInstance(component) {\n      __instances.delete(component);\n    }\n\n  };\n  return i18n;\n}\n/**\r\n * Use Composition API for Vue I18n\r\n *\r\n * @param options - An options, see {@link UseI18nOptions}\r\n *\r\n * @returns {@link Composer} instance\r\n *\r\n * @remarks\r\n * This function is mainly used by `setup`.\r\n *\r\n * If options are specified, Composer instance is created for each component and you can be localized on the component.\r\n *\r\n * If options are not specified, you can be localized using the global Composer.\r\n *\r\n * @example\r\n * case: Component resource base localization\r\n * ```html\r\n * <template>\r\n *   <form>\r\n *     <label>{{ t('language') }}</label>\r\n *     <select v-model=\"locale\">\r\n *       <option value=\"en\">en</option>\r\n *       <option value=\"ja\">ja</option>\r\n *     </select>\r\n *   </form>\r\n *   <p>message: {{ t('hello') }}</p>\r\n * </template>\r\n *\r\n * <script>\r\n * import { useI18n } from 'vue-i18n'\r\n *\r\n * export default {\r\n *  setup() {\r\n *    const { t, locale } = useI18n({\r\n *      locale: 'ja',\r\n *      messages: {\r\n *        en: { ... },\r\n *        ja: { ... }\r\n *      }\r\n *    })\r\n *    // Something to do ...\r\n *\r\n *    return { ..., t, locale }\r\n *  }\r\n * }\r\n * </script>\r\n * ```\r\n *\r\n * @VueI18nComposition\r\n */\n\n\nfunction useI18n(options = {}) {\n  const instance = vue.getCurrentInstance();\n\n  if (instance == null) {\n    throw createI18nError(16\n    /* MUST_BE_CALL_SETUP_TOP */\n    );\n  }\n\n  if (!instance.appContext.app.__VUE_I18N_SYMBOL__) {\n    throw createI18nError(17\n    /* NOT_INSLALLED */\n    );\n  }\n\n  const i18n = vue.inject(instance.appContext.app.__VUE_I18N_SYMBOL__);\n  /* istanbul ignore if */\n\n  if (!i18n) {\n    throw createI18nError(22\n    /* UNEXPECTED_ERROR */\n    );\n  } // prettier-ignore\n\n\n  const global = i18n.mode === 'composition' ? i18n.global : i18n.global.__composer; // prettier-ignore\n\n  const scope = shared.isEmptyObject(options) ? '__i18n' in instance.type ? 'local' : 'global' : !options.useScope ? 'local' : options.useScope;\n\n  if (scope === 'global') {\n    let messages = shared.isObject(options.messages) ? options.messages : {};\n\n    if ('__i18nGlobal' in instance.type) {\n      messages = getLocaleMessages(global.locale.value, {\n        messages,\n        __i18n: instance.type.__i18nGlobal\n      });\n    } // merge locale messages\n\n\n    const locales = Object.keys(messages);\n\n    if (locales.length) {\n      locales.forEach(locale => {\n        global.mergeLocaleMessage(locale, messages[locale]);\n      });\n    } // merge datetime formats\n\n\n    if (shared.isObject(options.datetimeFormats)) {\n      const locales = Object.keys(options.datetimeFormats);\n\n      if (locales.length) {\n        locales.forEach(locale => {\n          global.mergeDateTimeFormat(locale, options.datetimeFormats[locale]);\n        });\n      }\n    } // merge number formats\n\n\n    if (shared.isObject(options.numberFormats)) {\n      const locales = Object.keys(options.numberFormats);\n\n      if (locales.length) {\n        locales.forEach(locale => {\n          global.mergeNumberFormat(locale, options.numberFormats[locale]);\n        });\n      }\n    }\n\n    return global;\n  }\n\n  if (scope === 'parent') {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    let composer = getComposer(i18n, instance, options.__useComponent);\n\n    if (composer == null) {\n      {\n        shared.warn(getWarnMessage(12\n        /* NOT_FOUND_PARENT_SCOPE */\n        ));\n      }\n      composer = global;\n    }\n\n    return composer;\n  } // scope 'local' case\n\n\n  if (i18n.mode === 'legacy') {\n    throw createI18nError(18\n    /* NOT_AVAILABLE_IN_LEGACY_MODE */\n    );\n  }\n\n  const i18nInternal = i18n;\n\n  let composer = i18nInternal.__getInstance(instance);\n\n  if (composer == null) {\n    const type = instance.type;\n    const composerOptions = shared.assign({}, options);\n\n    if (type.__i18n) {\n      composerOptions.__i18n = type.__i18n;\n    }\n\n    if (global) {\n      composerOptions.__root = global;\n    }\n\n    composer = createComposer(composerOptions);\n    setupLifeCycle(i18nInternal, instance);\n\n    i18nInternal.__setInstance(instance, composer);\n  }\n\n  return composer;\n}\n\nfunction getComposer(i18n, target, useComponent = false) {\n  let composer = null;\n  const root = target.root;\n  let current = target.parent;\n\n  while (current != null) {\n    const i18nInternal = i18n;\n\n    if (i18n.mode === 'composition') {\n      composer = i18nInternal.__getInstance(current);\n    } else {\n      const vueI18n = i18nInternal.__getInstance(current);\n\n      if (vueI18n != null) {\n        composer = vueI18n.__composer;\n      } // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n\n      if (useComponent && composer && !composer[InejctWithOption]) {\n        composer = null;\n      }\n    }\n\n    if (composer != null) {\n      break;\n    }\n\n    if (root === current) {\n      break;\n    }\n\n    current = current.parent;\n  }\n\n  return composer;\n}\n\nfunction setupLifeCycle(i18n, target, composer) {\n  vue.onMounted(() => {}, target);\n  vue.onUnmounted(() => {\n    i18n.__deleteInstance(target);\n  }, target);\n}\n\nconst globalExportProps = ['locale', 'fallbackLocale', 'availableLocales'];\nconst globalExportMethods = ['t', 'rt', 'd', 'n', 'tm'];\n\nfunction injectGlobalFields(app, composer) {\n  const i18n = Object.create(null);\n  globalExportProps.forEach(prop => {\n    const desc = Object.getOwnPropertyDescriptor(composer, prop);\n\n    if (!desc) {\n      throw createI18nError(22\n      /* UNEXPECTED_ERROR */\n      );\n    }\n\n    const wrap = vue.isRef(desc.value) // check computed props\n    ? {\n      get() {\n        return desc.value.value;\n      },\n\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      set(val) {\n        desc.value.value = val;\n      }\n\n    } : {\n      get() {\n        return desc.get && desc.get();\n      }\n\n    };\n    Object.defineProperty(i18n, prop, wrap);\n  });\n  app.config.globalProperties.$i18n = i18n;\n  globalExportMethods.forEach(method => {\n    const desc = Object.getOwnPropertyDescriptor(composer, method);\n\n    if (!desc || !desc.value) {\n      throw createI18nError(22\n      /* UNEXPECTED_ERROR */\n      );\n    }\n\n    Object.defineProperty(app.config.globalProperties, `$${method}`, desc);\n  });\n} // register message compiler at vue-i18n\n\n\ncoreBase.registerMessageCompiler(coreBase.compileToFunction); // NOTE: experimental !!\n\n{\n  const target = shared.getGlobalThis();\n  target.__INTLIFY__ = true;\n  coreBase.setDevToolsHook(target.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__);\n}\nexports.DatetimeFormat = DatetimeFormat;\nexports.NumberFormat = NumberFormat;\nexports.Translation = Translation;\nexports.VERSION = VERSION;\nexports.createI18n = createI18n;\nexports.useI18n = useI18n;\nexports.vTDirective = vTDirective;","map":{"version":3,"names":["Object","defineProperty","exports","value","shared","require","coreBase","vue","VERSION","warnMessages","getWarnMessage","code","args","format","createI18nError","createCompileError","messages","errorMessages","DEVTOOLS_META","TransrateVNodeSymbol","makeSymbol","DatetimePartsSymbol","NumberPartsSymbol","EnableEmitter","DisableEmitter","SetPluralRulesSymbol","InejctWithOption","composerID","defineCoreMissingHandler","missing","ctx","locale","key","type","getCurrentInstance","undefined","getLocaleMessages","options","__i18n","ret","isPlainObject","isArray","forEach","resource","deepCopy","flatJson","hasOwn","handleFlatJson","isNotObjectOrIsArray","val","isObject","src","des","getMetaInfo","instance","createComposer","__root","_isGlobal","_inheritLocale","isBoolean","inheritLocale","_locale","ref","isString","_fallbackLocale","fallbackLocale","_messages","_datetimeFormats","datetimeFormats","_numberFormats","numberFormats","_missingWarn","missingWarn","isRegExp","_fallbackWarn","fallbackWarn","_fallbackRoot","fallbackRoot","_fallbackFormat","fallbackFormat","_missing","isFunction","_runtimeMissing","_postTranslation","postTranslation","_warnHtmlMessage","warnHtmlMessage","_escapeParameter","escapeParameter","_modifiers","modifiers","_pluralRules","pluralRules","_context","getCoreContext","createCoreContext","version","unresolving","__datetimeFormatters","__numberFormatters","__v_emitter","__meta","framework","updateFallbackLocale","trackReactivityValues","computed","get","set","getPostTranslationHandler","setPostTranslationHandler","handler","getMissingHandler","setMissingHandler","isResolvedTranslateMessage","arg","resolvedMessage","wrapWithDeps","fn","argumentParser","warnType","fallbackSuccess","fallbackFail","successCondition","setAdditionalMeta","isNumber","NOT_REOSLVED","arg2","isTranslateFallbackWarn","isTranslateMissingWarn","warn","emitter","emit","to","groupId","t","context","translate","parseTranslateArgs","root","rt","arg1","arg3","assign","d","datetime","parseDateTimeArgs","MISSING_RESOLVE_VALUE","n","number","parseNumberArgs","normalize","values","map","createVNode","Text","interpolate","processor","transrateVNode","numberParts","datetimeParts","setPluralRules","rules","te","targetLocale","message","getLocaleMessage","resolveValue","resolveMessages","locales","getLocaleChain","i","length","targetLocaleMessages","messageValue","tm","setLocaleMessage","mergeLocaleMessage","getDateTimeFormat","setDateTimeFormat","clearDateTimeFormat","mergeDateTimeFormat","getNumberFormat","setNumberFormat","clearNumberFormat","mergeNumberFormat","watch","composer","id","availableLocales","keys","sort","isGlobal","__injectWithOption","convertComposerOptions","silentTranslationWarn","silentFallbackWarn","formatFallbackMessages","pluralizationRules","warnHtmlInMessage","escapeParameterHtml","sync","formatter","preserveDirectiveContent","sharedMessages","reduce","createVueI18n","vueI18n","__composer","list","named","tc","plural","getChoiceIndex","choice","choicesLength","__onComponentInstanceCreated","target","componentInstanceCreatedListener","__enableEmitter","__disableEmitter","baseFormatProps","tag","String","scope","validator","default","i18n","Translation","name","props","keypath","required","Number","isNaN","setup","slots","attrs","useI18n","useScope","__useComponent","filter","getInterpolateArg","children","assignedAttrs","h","Fragment","slot","renderFormatter","slotKeys","partFormatter","part","overrides","prop","includes","parts","index","NUMBER_FORMAT_KEYS","NumberFormat","DATETIME_FORMAT_KEYS","DatetimeFormat","Date","getComposer$1","i18nInternal","mode","__getInstance","global","vTDirective","bind","el","$","preserve","parsedValue","parseValue","textContent","makeParams","beforeMount","beforeUpdate","path","apply","app","pluginOptions","useI18nComponentName","globalInstall","component","directive","defineMixin","vuei18n","beforeCreate","$options","optionsI18n","$root","$i18n","mergeToRoot","__setInstance","$t","$rt","$tc","$te","$d","$n","$tm","mounted","beforeUnmount","__deleteInstance","createI18n","__legacyMode","legacy","__globalInjection","globalInjection","__instances","Map","__global","symbol","install","__VUE_I18N_SYMBOL__","provide","injectGlobalFields","mixin","delete","appContext","inject","isEmptyObject","__i18nGlobal","getComposer","composerOptions","setupLifeCycle","useComponent","current","parent","onMounted","onUnmounted","globalExportProps","globalExportMethods","create","desc","getOwnPropertyDescriptor","wrap","isRef","config","globalProperties","method","registerMessageCompiler","compileToFunction","getGlobalThis","__INTLIFY__","setDevToolsHook","__INTLIFY_DEVTOOLS_GLOBAL_HOOK__"],"sources":["/Users/lord/Documents/Programmer/vue/VueProjects/blog-vue/blog-web/node_modules/vue-i18n/dist/vue-i18n.cjs.js"],"sourcesContent":["/*!\n  * vue-i18n v9.1.10\n  * (c) 2022 kazuya kawaguchi\n  * Released under the MIT License.\n  */\n'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nvar shared = require('@intlify/shared');\nvar coreBase = require('@intlify/core-base');\nvar vue = require('vue');\n\n/**\r\n * Vue I18n Version\r\n *\r\n * @remarks\r\n * Semver format. Same format as the package.json `version` field.\r\n *\r\n * @VueI18nGeneral\r\n */\r\nconst VERSION = '9.1.10';\n\nconst warnMessages = {\r\n    [6 /* FALLBACK_TO_ROOT */]: `Fall back to {type} '{key}' with root locale.`,\r\n    [7 /* NOT_SUPPORTED_PRESERVE */]: `Not supported 'preserve'.`,\r\n    [8 /* NOT_SUPPORTED_FORMATTER */]: `Not supported 'formatter'.`,\r\n    [9 /* NOT_SUPPORTED_PRESERVE_DIRECTIVE */]: `Not supported 'preserveDirectiveContent'.`,\r\n    [10 /* NOT_SUPPORTED_GET_CHOICE_INDEX */]: `Not supported 'getChoiceIndex'.`,\r\n    [11 /* COMPONENT_NAME_LEGACY_COMPATIBLE */]: `Component name legacy compatible: '{name}' -> 'i18n'`,\r\n    [12 /* NOT_FOUND_PARENT_SCOPE */]: `Not found parent scope. use the global scope.`\r\n};\r\nfunction getWarnMessage(code, ...args) {\r\n    return shared.format(warnMessages[code], ...args);\r\n}\n\nfunction createI18nError(code, ...args) {\r\n    return coreBase.createCompileError(code, null, { messages: errorMessages, args } );\r\n}\r\nconst errorMessages = {\r\n    [14 /* UNEXPECTED_RETURN_TYPE */]: 'Unexpected return type in composer',\r\n    [15 /* INVALID_ARGUMENT */]: 'Invalid argument',\r\n    [16 /* MUST_BE_CALL_SETUP_TOP */]: 'Must be called at the top of a `setup` function',\r\n    [17 /* NOT_INSLALLED */]: 'Need to install with `app.use` function',\r\n    [22 /* UNEXPECTED_ERROR */]: 'Unexpected error',\r\n    [18 /* NOT_AVAILABLE_IN_LEGACY_MODE */]: 'Not available in legacy mode',\r\n    [19 /* REQUIRED_VALUE */]: `Required in value: {0}`,\r\n    [20 /* INVALID_VALUE */]: `Invalid value`,\r\n    [21 /* CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN */]: `Cannot setup vue-devtools plugin`\r\n};\n\nconst DEVTOOLS_META = '__INTLIFY_META__';\r\nconst TransrateVNodeSymbol = shared.makeSymbol('__transrateVNode');\r\nconst DatetimePartsSymbol = shared.makeSymbol('__datetimeParts');\r\nconst NumberPartsSymbol = shared.makeSymbol('__numberParts');\r\nconst EnableEmitter = shared.makeSymbol('__enableEmitter');\r\nconst DisableEmitter = shared.makeSymbol('__disableEmitter');\r\nconst SetPluralRulesSymbol = shared.makeSymbol('__setPluralRules');\r\nshared.makeSymbol('__intlifyMeta');\r\nconst InejctWithOption = shared.makeSymbol('__injectWithOption');\r\nlet composerID = 0;\r\nfunction defineCoreMissingHandler(missing) {\r\n    return ((ctx, locale, key, type) => {\r\n        return missing(locale, key, vue.getCurrentInstance() || undefined, type);\r\n    });\r\n}\r\nfunction getLocaleMessages(locale, options) {\r\n    const { messages, __i18n } = options;\r\n    // prettier-ignore\r\n    const ret = shared.isPlainObject(messages)\r\n        ? messages\r\n        : shared.isArray(__i18n)\r\n            ? {}\r\n            : { [locale]: {} };\r\n    // merge locale messages of i18n custom block\r\n    if (shared.isArray(__i18n)) {\r\n        __i18n.forEach(({ locale, resource }) => {\r\n            if (locale) {\r\n                ret[locale] = ret[locale] || {};\r\n                deepCopy(resource, ret[locale]);\r\n            }\r\n            else {\r\n                deepCopy(resource, ret);\r\n            }\r\n        });\r\n    }\r\n    // handle messages for flat json\r\n    if (options.flatJson) {\r\n        for (const key in ret) {\r\n            if (shared.hasOwn(ret, key)) {\r\n                coreBase.handleFlatJson(ret[key]);\r\n            }\r\n        }\r\n    }\r\n    return ret;\r\n}\r\nconst isNotObjectOrIsArray = (val) => !shared.isObject(val) || shared.isArray(val);\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\nfunction deepCopy(src, des) {\r\n    // src and des should both be objects, and non of then can be a array\r\n    if (isNotObjectOrIsArray(src) || isNotObjectOrIsArray(des)) {\r\n        throw createI18nError(20 /* INVALID_VALUE */);\r\n    }\r\n    for (const key in src) {\r\n        if (shared.hasOwn(src, key)) {\r\n            if (isNotObjectOrIsArray(src[key]) || isNotObjectOrIsArray(des[key])) {\r\n                // replace with src[key] when:\r\n                // src[key] or des[key] is not a object, or\r\n                // src[key] or des[key] is a array\r\n                des[key] = src[key];\r\n            }\r\n            else {\r\n                // src[key] and des[key] are both object, merge them\r\n                deepCopy(src[key], des[key]);\r\n            }\r\n        }\r\n    }\r\n}\r\n// for Intlify DevTools\r\nconst getMetaInfo = /* #__PURE__*/ () => {\r\n    const instance = vue.getCurrentInstance();\r\n    return instance && instance.type[DEVTOOLS_META] // eslint-disable-line @typescript-eslint/no-explicit-any\r\n        ? { [DEVTOOLS_META]: instance.type[DEVTOOLS_META] } // eslint-disable-line @typescript-eslint/no-explicit-any\r\n        : null;\r\n};\r\n/**\r\n * Create composer interface factory\r\n *\r\n * @internal\r\n */\r\nfunction createComposer(options = {}) {\r\n    const { __root } = options;\r\n    const _isGlobal = __root === undefined;\r\n    let _inheritLocale = shared.isBoolean(options.inheritLocale)\r\n        ? options.inheritLocale\r\n        : true;\r\n    const _locale = vue.ref(\r\n    // prettier-ignore\r\n    __root && _inheritLocale\r\n        ? __root.locale.value\r\n        : shared.isString(options.locale)\r\n            ? options.locale\r\n            : 'en-US');\r\n    const _fallbackLocale = vue.ref(\r\n    // prettier-ignore\r\n    __root && _inheritLocale\r\n        ? __root.fallbackLocale.value\r\n        : shared.isString(options.fallbackLocale) ||\r\n            shared.isArray(options.fallbackLocale) ||\r\n            shared.isPlainObject(options.fallbackLocale) ||\r\n            options.fallbackLocale === false\r\n            ? options.fallbackLocale\r\n            : _locale.value);\r\n    const _messages = vue.ref(getLocaleMessages(_locale.value, options));\r\n    const _datetimeFormats = vue.ref(shared.isPlainObject(options.datetimeFormats)\r\n        ? options.datetimeFormats\r\n        : { [_locale.value]: {} });\r\n    const _numberFormats = vue.ref(shared.isPlainObject(options.numberFormats)\r\n        ? options.numberFormats\r\n        : { [_locale.value]: {} });\r\n    // warning suppress options\r\n    // prettier-ignore\r\n    let _missingWarn = __root\r\n        ? __root.missingWarn\r\n        : shared.isBoolean(options.missingWarn) || shared.isRegExp(options.missingWarn)\r\n            ? options.missingWarn\r\n            : true;\r\n    // prettier-ignore\r\n    let _fallbackWarn = __root\r\n        ? __root.fallbackWarn\r\n        : shared.isBoolean(options.fallbackWarn) || shared.isRegExp(options.fallbackWarn)\r\n            ? options.fallbackWarn\r\n            : true;\r\n    // prettier-ignore\r\n    let _fallbackRoot = __root\r\n        ? __root.fallbackRoot\r\n        : shared.isBoolean(options.fallbackRoot)\r\n            ? options.fallbackRoot\r\n            : true;\r\n    // configure fall back to root\r\n    let _fallbackFormat = !!options.fallbackFormat;\r\n    // runtime missing\r\n    let _missing = shared.isFunction(options.missing) ? options.missing : null;\r\n    let _runtimeMissing = shared.isFunction(options.missing)\r\n        ? defineCoreMissingHandler(options.missing)\r\n        : null;\r\n    // postTranslation handler\r\n    let _postTranslation = shared.isFunction(options.postTranslation)\r\n        ? options.postTranslation\r\n        : null;\r\n    let _warnHtmlMessage = shared.isBoolean(options.warnHtmlMessage)\r\n        ? options.warnHtmlMessage\r\n        : true;\r\n    let _escapeParameter = !!options.escapeParameter;\r\n    // custom linked modifiers\r\n    // prettier-ignore\r\n    const _modifiers = __root\r\n        ? __root.modifiers\r\n        : shared.isPlainObject(options.modifiers)\r\n            ? options.modifiers\r\n            : {};\r\n    // pluralRules\r\n    let _pluralRules = options.pluralRules || (__root && __root.pluralRules);\r\n    // runtime context\r\n    // eslint-disable-next-line prefer-const\r\n    let _context;\r\n    function getCoreContext() {\r\n        return coreBase.createCoreContext({\r\n            version: VERSION,\r\n            locale: _locale.value,\r\n            fallbackLocale: _fallbackLocale.value,\r\n            messages: _messages.value,\r\n            datetimeFormats: _datetimeFormats.value,\r\n            numberFormats: _numberFormats.value,\r\n            modifiers: _modifiers,\r\n            pluralRules: _pluralRules,\r\n            missing: _runtimeMissing === null ? undefined : _runtimeMissing,\r\n            missingWarn: _missingWarn,\r\n            fallbackWarn: _fallbackWarn,\r\n            fallbackFormat: _fallbackFormat,\r\n            unresolving: true,\r\n            postTranslation: _postTranslation === null ? undefined : _postTranslation,\r\n            warnHtmlMessage: _warnHtmlMessage,\r\n            escapeParameter: _escapeParameter,\r\n            __datetimeFormatters: shared.isPlainObject(_context)\r\n                ? _context.__datetimeFormatters\r\n                : undefined,\r\n            __numberFormatters: shared.isPlainObject(_context)\r\n                ? _context.__numberFormatters\r\n                : undefined,\r\n            __v_emitter: shared.isPlainObject(_context)\r\n                ? _context.__v_emitter\r\n                : undefined,\r\n            __meta: { framework: 'vue' }\r\n        });\r\n    }\r\n    _context = getCoreContext();\r\n    coreBase.updateFallbackLocale(_context, _locale.value, _fallbackLocale.value);\r\n    // track reactivity\r\n    function trackReactivityValues() {\r\n        return [\r\n            _locale.value,\r\n            _fallbackLocale.value,\r\n            _messages.value,\r\n            _datetimeFormats.value,\r\n            _numberFormats.value\r\n        ];\r\n    }\r\n    // locale\r\n    const locale = vue.computed({\r\n        get: () => _locale.value,\r\n        set: val => {\r\n            _locale.value = val;\r\n            _context.locale = _locale.value;\r\n        }\r\n    });\r\n    // fallbackLocale\r\n    const fallbackLocale = vue.computed({\r\n        get: () => _fallbackLocale.value,\r\n        set: val => {\r\n            _fallbackLocale.value = val;\r\n            _context.fallbackLocale = _fallbackLocale.value;\r\n            coreBase.updateFallbackLocale(_context, _locale.value, val);\r\n        }\r\n    });\r\n    // messages\r\n    const messages = vue.computed(() => _messages.value);\r\n    // datetimeFormats\r\n    const datetimeFormats = vue.computed(() => _datetimeFormats.value);\r\n    // numberFormats\r\n    const numberFormats = vue.computed(() => _numberFormats.value);\r\n    // getPostTranslationHandler\r\n    function getPostTranslationHandler() {\r\n        return shared.isFunction(_postTranslation) ? _postTranslation : null;\r\n    }\r\n    // setPostTranslationHandler\r\n    function setPostTranslationHandler(handler) {\r\n        _postTranslation = handler;\r\n        _context.postTranslation = handler;\r\n    }\r\n    // getMissingHandler\r\n    function getMissingHandler() {\r\n        return _missing;\r\n    }\r\n    // setMissingHandler\r\n    function setMissingHandler(handler) {\r\n        if (handler !== null) {\r\n            _runtimeMissing = defineCoreMissingHandler(handler);\r\n        }\r\n        _missing = handler;\r\n        _context.missing = _runtimeMissing;\r\n    }\r\n    function isResolvedTranslateMessage(type, arg // eslint-disable-line @typescript-eslint/no-explicit-any\r\n    ) {\r\n        return type !== 'translate' || !!arg.resolvedMessage === false;\r\n    }\r\n    function wrapWithDeps(fn, argumentParser, warnType, fallbackSuccess, fallbackFail, successCondition) {\r\n        trackReactivityValues(); // track reactive dependency\r\n        // NOTE: experimental !!\r\n        let ret;\r\n        {\r\n            try {\r\n                coreBase.setAdditionalMeta(getMetaInfo());\r\n                ret = fn(_context);\r\n            }\r\n            finally {\r\n                coreBase.setAdditionalMeta(null);\r\n            }\r\n        }\r\n        if (shared.isNumber(ret) && ret === coreBase.NOT_REOSLVED) {\r\n            const [key, arg2] = argumentParser();\r\n            if (__root &&\r\n                shared.isString(key) &&\r\n                isResolvedTranslateMessage(warnType, arg2)) {\r\n                if (_fallbackRoot &&\r\n                    (coreBase.isTranslateFallbackWarn(_fallbackWarn, key) ||\r\n                        coreBase.isTranslateMissingWarn(_missingWarn, key))) {\r\n                    shared.warn(getWarnMessage(6 /* FALLBACK_TO_ROOT */, {\r\n                        key,\r\n                        type: warnType\r\n                    }));\r\n                }\r\n                // for vue-devtools timeline event\r\n                {\r\n                    const { __v_emitter: emitter } = _context;\r\n                    if (emitter && _fallbackRoot) {\r\n                        emitter.emit(\"fallback\" /* FALBACK */, {\r\n                            type: warnType,\r\n                            key,\r\n                            to: 'global',\r\n                            groupId: `${warnType}:${key}`\r\n                        });\r\n                    }\r\n                }\r\n            }\r\n            return __root && _fallbackRoot\r\n                ? fallbackSuccess(__root)\r\n                : fallbackFail(key);\r\n        }\r\n        else if (successCondition(ret)) {\r\n            return ret;\r\n        }\r\n        else {\r\n            /* istanbul ignore next */\r\n            throw createI18nError(14 /* UNEXPECTED_RETURN_TYPE */);\r\n        }\r\n    }\r\n    // t\r\n    function t(...args) {\r\n        return wrapWithDeps(context => coreBase.translate(context, ...args), () => coreBase.parseTranslateArgs(...args), 'translate', root => root.t(...args), key => key, val => shared.isString(val));\r\n    }\r\n    // rt\r\n    function rt(...args) {\r\n        const [arg1, arg2, arg3] = args;\r\n        if (arg3 && !shared.isObject(arg3)) {\r\n            throw createI18nError(15 /* INVALID_ARGUMENT */);\r\n        }\r\n        return t(...[arg1, arg2, shared.assign({ resolvedMessage: true }, arg3 || {})]);\r\n    }\r\n    // d\r\n    function d(...args) {\r\n        return wrapWithDeps(context => coreBase.datetime(context, ...args), () => coreBase.parseDateTimeArgs(...args), 'datetime format', root => root.d(...args), () => coreBase.MISSING_RESOLVE_VALUE, val => shared.isString(val));\r\n    }\r\n    // n\r\n    function n(...args) {\r\n        return wrapWithDeps(context => coreBase.number(context, ...args), () => coreBase.parseNumberArgs(...args), 'number format', root => root.n(...args), () => coreBase.MISSING_RESOLVE_VALUE, val => shared.isString(val));\r\n    }\r\n    // for custom processor\r\n    function normalize(values) {\r\n        return values.map(val => shared.isString(val) ? vue.createVNode(vue.Text, null, val, 0) : val);\r\n    }\r\n    const interpolate = (val) => val;\r\n    const processor = {\r\n        normalize,\r\n        interpolate,\r\n        type: 'vnode'\r\n    };\r\n    // transrateVNode, using for `i18n-t` component\r\n    function transrateVNode(...args) {\r\n        return wrapWithDeps(context => {\r\n            let ret;\r\n            const _context = context;\r\n            try {\r\n                _context.processor = processor;\r\n                ret = coreBase.translate(_context, ...args);\r\n            }\r\n            finally {\r\n                _context.processor = null;\r\n            }\r\n            return ret;\r\n        }, () => coreBase.parseTranslateArgs(...args), 'translate', \r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        root => root[TransrateVNodeSymbol](...args), key => [vue.createVNode(vue.Text, null, key, 0)], val => shared.isArray(val));\r\n    }\r\n    // numberParts, using for `i18n-n` component\r\n    function numberParts(...args) {\r\n        return wrapWithDeps(context => coreBase.number(context, ...args), () => coreBase.parseNumberArgs(...args), 'number format', \r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        root => root[NumberPartsSymbol](...args), () => [], val => shared.isString(val) || shared.isArray(val));\r\n    }\r\n    // datetimeParts, using for `i18n-d` component\r\n    function datetimeParts(...args) {\r\n        return wrapWithDeps(context => coreBase.datetime(context, ...args), () => coreBase.parseDateTimeArgs(...args), 'datetime format', \r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        root => root[DatetimePartsSymbol](...args), () => [], val => shared.isString(val) || shared.isArray(val));\r\n    }\r\n    function setPluralRules(rules) {\r\n        _pluralRules = rules;\r\n        _context.pluralRules = _pluralRules;\r\n    }\r\n    // te\r\n    function te(key, locale) {\r\n        const targetLocale = shared.isString(locale) ? locale : _locale.value;\r\n        const message = getLocaleMessage(targetLocale);\r\n        return coreBase.resolveValue(message, key) !== null;\r\n    }\r\n    function resolveMessages(key) {\r\n        let messages = null;\r\n        const locales = coreBase.getLocaleChain(_context, _fallbackLocale.value, _locale.value);\r\n        for (let i = 0; i < locales.length; i++) {\r\n            const targetLocaleMessages = _messages.value[locales[i]] || {};\r\n            const messageValue = coreBase.resolveValue(targetLocaleMessages, key);\r\n            if (messageValue != null) {\r\n                messages = messageValue;\r\n                break;\r\n            }\r\n        }\r\n        return messages;\r\n    }\r\n    // tm\r\n    function tm(key) {\r\n        const messages = resolveMessages(key);\r\n        // prettier-ignore\r\n        return messages != null\r\n            ? messages\r\n            : __root\r\n                ? __root.tm(key) || {}\r\n                : {};\r\n    }\r\n    // getLocaleMessage\r\n    function getLocaleMessage(locale) {\r\n        return (_messages.value[locale] || {});\r\n    }\r\n    // setLocaleMessage\r\n    function setLocaleMessage(locale, message) {\r\n        _messages.value[locale] = message;\r\n        _context.messages = _messages.value;\r\n    }\r\n    // mergeLocaleMessage\r\n    function mergeLocaleMessage(locale, message) {\r\n        _messages.value[locale] = _messages.value[locale] || {};\r\n        deepCopy(message, _messages.value[locale]);\r\n        _context.messages = _messages.value;\r\n    }\r\n    // getDateTimeFormat\r\n    function getDateTimeFormat(locale) {\r\n        return _datetimeFormats.value[locale] || {};\r\n    }\r\n    // setDateTimeFormat\r\n    function setDateTimeFormat(locale, format) {\r\n        _datetimeFormats.value[locale] = format;\r\n        _context.datetimeFormats = _datetimeFormats.value;\r\n        coreBase.clearDateTimeFormat(_context, locale, format);\r\n    }\r\n    // mergeDateTimeFormat\r\n    function mergeDateTimeFormat(locale, format) {\r\n        _datetimeFormats.value[locale] = shared.assign(_datetimeFormats.value[locale] || {}, format);\r\n        _context.datetimeFormats = _datetimeFormats.value;\r\n        coreBase.clearDateTimeFormat(_context, locale, format);\r\n    }\r\n    // getNumberFormat\r\n    function getNumberFormat(locale) {\r\n        return _numberFormats.value[locale] || {};\r\n    }\r\n    // setNumberFormat\r\n    function setNumberFormat(locale, format) {\r\n        _numberFormats.value[locale] = format;\r\n        _context.numberFormats = _numberFormats.value;\r\n        coreBase.clearNumberFormat(_context, locale, format);\r\n    }\r\n    // mergeNumberFormat\r\n    function mergeNumberFormat(locale, format) {\r\n        _numberFormats.value[locale] = shared.assign(_numberFormats.value[locale] || {}, format);\r\n        _context.numberFormats = _numberFormats.value;\r\n        coreBase.clearNumberFormat(_context, locale, format);\r\n    }\r\n    // for debug\r\n    composerID++;\r\n    // watch root locale & fallbackLocale\r\n    if (__root) {\r\n        vue.watch(__root.locale, (val) => {\r\n            if (_inheritLocale) {\r\n                _locale.value = val;\r\n                _context.locale = val;\r\n                coreBase.updateFallbackLocale(_context, _locale.value, _fallbackLocale.value);\r\n            }\r\n        });\r\n        vue.watch(__root.fallbackLocale, (val) => {\r\n            if (_inheritLocale) {\r\n                _fallbackLocale.value = val;\r\n                _context.fallbackLocale = val;\r\n                coreBase.updateFallbackLocale(_context, _locale.value, _fallbackLocale.value);\r\n            }\r\n        });\r\n    }\r\n    // define composition API!\r\n    const composer = {\r\n        id: composerID,\r\n        locale,\r\n        fallbackLocale,\r\n        get inheritLocale() {\r\n            return _inheritLocale;\r\n        },\r\n        set inheritLocale(val) {\r\n            _inheritLocale = val;\r\n            if (val && __root) {\r\n                _locale.value = __root.locale.value;\r\n                _fallbackLocale.value = __root.fallbackLocale.value;\r\n                coreBase.updateFallbackLocale(_context, _locale.value, _fallbackLocale.value);\r\n            }\r\n        },\r\n        get availableLocales() {\r\n            return Object.keys(_messages.value).sort();\r\n        },\r\n        messages,\r\n        datetimeFormats,\r\n        numberFormats,\r\n        get modifiers() {\r\n            return _modifiers;\r\n        },\r\n        get pluralRules() {\r\n            return _pluralRules || {};\r\n        },\r\n        get isGlobal() {\r\n            return _isGlobal;\r\n        },\r\n        get missingWarn() {\r\n            return _missingWarn;\r\n        },\r\n        set missingWarn(val) {\r\n            _missingWarn = val;\r\n            _context.missingWarn = _missingWarn;\r\n        },\r\n        get fallbackWarn() {\r\n            return _fallbackWarn;\r\n        },\r\n        set fallbackWarn(val) {\r\n            _fallbackWarn = val;\r\n            _context.fallbackWarn = _fallbackWarn;\r\n        },\r\n        get fallbackRoot() {\r\n            return _fallbackRoot;\r\n        },\r\n        set fallbackRoot(val) {\r\n            _fallbackRoot = val;\r\n        },\r\n        get fallbackFormat() {\r\n            return _fallbackFormat;\r\n        },\r\n        set fallbackFormat(val) {\r\n            _fallbackFormat = val;\r\n            _context.fallbackFormat = _fallbackFormat;\r\n        },\r\n        get warnHtmlMessage() {\r\n            return _warnHtmlMessage;\r\n        },\r\n        set warnHtmlMessage(val) {\r\n            _warnHtmlMessage = val;\r\n            _context.warnHtmlMessage = val;\r\n        },\r\n        get escapeParameter() {\r\n            return _escapeParameter;\r\n        },\r\n        set escapeParameter(val) {\r\n            _escapeParameter = val;\r\n            _context.escapeParameter = val;\r\n        },\r\n        t,\r\n        rt,\r\n        d,\r\n        n,\r\n        te,\r\n        tm,\r\n        getLocaleMessage,\r\n        setLocaleMessage,\r\n        mergeLocaleMessage,\r\n        getDateTimeFormat,\r\n        setDateTimeFormat,\r\n        mergeDateTimeFormat,\r\n        getNumberFormat,\r\n        setNumberFormat,\r\n        mergeNumberFormat,\r\n        getPostTranslationHandler,\r\n        setPostTranslationHandler,\r\n        getMissingHandler,\r\n        setMissingHandler,\r\n        [TransrateVNodeSymbol]: transrateVNode,\r\n        [NumberPartsSymbol]: numberParts,\r\n        [DatetimePartsSymbol]: datetimeParts,\r\n        [SetPluralRulesSymbol]: setPluralRules,\r\n        [InejctWithOption]: options.__injectWithOption // eslint-disable-line @typescript-eslint/no-explicit-any\r\n    };\r\n    // for vue-devtools timeline event\r\n    {\r\n        composer[EnableEmitter] = (emitter) => {\r\n            _context.__v_emitter = emitter;\r\n        };\r\n        composer[DisableEmitter] = () => {\r\n            _context.__v_emitter = undefined;\r\n        };\r\n    }\r\n    return composer;\r\n}\n\n/**\r\n * Convert to I18n Composer Options from VueI18n Options\r\n *\r\n * @internal\r\n */\r\nfunction convertComposerOptions(options) {\r\n    const locale = shared.isString(options.locale) ? options.locale : 'en-US';\r\n    const fallbackLocale = shared.isString(options.fallbackLocale) ||\r\n        shared.isArray(options.fallbackLocale) ||\r\n        shared.isPlainObject(options.fallbackLocale) ||\r\n        options.fallbackLocale === false\r\n        ? options.fallbackLocale\r\n        : locale;\r\n    const missing = shared.isFunction(options.missing) ? options.missing : undefined;\r\n    const missingWarn = shared.isBoolean(options.silentTranslationWarn) ||\r\n        shared.isRegExp(options.silentTranslationWarn)\r\n        ? !options.silentTranslationWarn\r\n        : true;\r\n    const fallbackWarn = shared.isBoolean(options.silentFallbackWarn) ||\r\n        shared.isRegExp(options.silentFallbackWarn)\r\n        ? !options.silentFallbackWarn\r\n        : true;\r\n    const fallbackRoot = shared.isBoolean(options.fallbackRoot)\r\n        ? options.fallbackRoot\r\n        : true;\r\n    const fallbackFormat = !!options.formatFallbackMessages;\r\n    const modifiers = shared.isPlainObject(options.modifiers) ? options.modifiers : {};\r\n    const pluralizationRules = options.pluralizationRules;\r\n    const postTranslation = shared.isFunction(options.postTranslation)\r\n        ? options.postTranslation\r\n        : undefined;\r\n    const warnHtmlMessage = shared.isString(options.warnHtmlInMessage)\r\n        ? options.warnHtmlInMessage !== 'off'\r\n        : true;\r\n    const escapeParameter = !!options.escapeParameterHtml;\r\n    const inheritLocale = shared.isBoolean(options.sync) ? options.sync : true;\r\n    if (options.formatter) {\r\n        shared.warn(getWarnMessage(8 /* NOT_SUPPORTED_FORMATTER */));\r\n    }\r\n    if (options.preserveDirectiveContent) {\r\n        shared.warn(getWarnMessage(9 /* NOT_SUPPORTED_PRESERVE_DIRECTIVE */));\r\n    }\r\n    let messages = options.messages;\r\n    if (shared.isPlainObject(options.sharedMessages)) {\r\n        const sharedMessages = options.sharedMessages;\r\n        const locales = Object.keys(sharedMessages);\r\n        messages = locales.reduce((messages, locale) => {\r\n            const message = messages[locale] || (messages[locale] = {});\r\n            shared.assign(message, sharedMessages[locale]);\r\n            return messages;\r\n        }, (messages || {}));\r\n    }\r\n    const { __i18n, __root, __injectWithOption } = options;\r\n    const datetimeFormats = options.datetimeFormats;\r\n    const numberFormats = options.numberFormats;\r\n    const flatJson = options.flatJson;\r\n    return {\r\n        locale,\r\n        fallbackLocale,\r\n        messages,\r\n        flatJson,\r\n        datetimeFormats,\r\n        numberFormats,\r\n        missing,\r\n        missingWarn,\r\n        fallbackWarn,\r\n        fallbackRoot,\r\n        fallbackFormat,\r\n        modifiers,\r\n        pluralRules: pluralizationRules,\r\n        postTranslation,\r\n        warnHtmlMessage,\r\n        escapeParameter,\r\n        inheritLocale,\r\n        __i18n,\r\n        __root,\r\n        __injectWithOption\r\n    };\r\n}\r\n/**\r\n * create VueI18n interface factory\r\n *\r\n * @internal\r\n */\r\nfunction createVueI18n(options = {}) {\r\n    const composer = createComposer(convertComposerOptions(options));\r\n    // defines VueI18n\r\n    const vueI18n = {\r\n        // id\r\n        id: composer.id,\r\n        // locale\r\n        get locale() {\r\n            return composer.locale.value;\r\n        },\r\n        set locale(val) {\r\n            composer.locale.value = val;\r\n        },\r\n        // fallbackLocale\r\n        get fallbackLocale() {\r\n            return composer.fallbackLocale.value;\r\n        },\r\n        set fallbackLocale(val) {\r\n            composer.fallbackLocale.value = val;\r\n        },\r\n        // messages\r\n        get messages() {\r\n            return composer.messages.value;\r\n        },\r\n        // datetimeFormats\r\n        get datetimeFormats() {\r\n            return composer.datetimeFormats.value;\r\n        },\r\n        // numberFormats\r\n        get numberFormats() {\r\n            return composer.numberFormats.value;\r\n        },\r\n        // availableLocales\r\n        get availableLocales() {\r\n            return composer.availableLocales;\r\n        },\r\n        // formatter\r\n        get formatter() {\r\n            shared.warn(getWarnMessage(8 /* NOT_SUPPORTED_FORMATTER */));\r\n            // dummy\r\n            return {\r\n                interpolate() {\r\n                    return [];\r\n                }\r\n            };\r\n        },\r\n        set formatter(val) {\r\n            shared.warn(getWarnMessage(8 /* NOT_SUPPORTED_FORMATTER */));\r\n        },\r\n        // missing\r\n        get missing() {\r\n            return composer.getMissingHandler();\r\n        },\r\n        set missing(handler) {\r\n            composer.setMissingHandler(handler);\r\n        },\r\n        // silentTranslationWarn\r\n        get silentTranslationWarn() {\r\n            return shared.isBoolean(composer.missingWarn)\r\n                ? !composer.missingWarn\r\n                : composer.missingWarn;\r\n        },\r\n        set silentTranslationWarn(val) {\r\n            composer.missingWarn = shared.isBoolean(val) ? !val : val;\r\n        },\r\n        // silentFallbackWarn\r\n        get silentFallbackWarn() {\r\n            return shared.isBoolean(composer.fallbackWarn)\r\n                ? !composer.fallbackWarn\r\n                : composer.fallbackWarn;\r\n        },\r\n        set silentFallbackWarn(val) {\r\n            composer.fallbackWarn = shared.isBoolean(val) ? !val : val;\r\n        },\r\n        // modifiers\r\n        get modifiers() {\r\n            return composer.modifiers;\r\n        },\r\n        // formatFallbackMessages\r\n        get formatFallbackMessages() {\r\n            return composer.fallbackFormat;\r\n        },\r\n        set formatFallbackMessages(val) {\r\n            composer.fallbackFormat = val;\r\n        },\r\n        // postTranslation\r\n        get postTranslation() {\r\n            return composer.getPostTranslationHandler();\r\n        },\r\n        set postTranslation(handler) {\r\n            composer.setPostTranslationHandler(handler);\r\n        },\r\n        // sync\r\n        get sync() {\r\n            return composer.inheritLocale;\r\n        },\r\n        set sync(val) {\r\n            composer.inheritLocale = val;\r\n        },\r\n        // warnInHtmlMessage\r\n        get warnHtmlInMessage() {\r\n            return composer.warnHtmlMessage ? 'warn' : 'off';\r\n        },\r\n        set warnHtmlInMessage(val) {\r\n            composer.warnHtmlMessage = val !== 'off';\r\n        },\r\n        // escapeParameterHtml\r\n        get escapeParameterHtml() {\r\n            return composer.escapeParameter;\r\n        },\r\n        set escapeParameterHtml(val) {\r\n            composer.escapeParameter = val;\r\n        },\r\n        // preserveDirectiveContent\r\n        get preserveDirectiveContent() {\r\n            shared.warn(getWarnMessage(9 /* NOT_SUPPORTED_PRESERVE_DIRECTIVE */));\r\n            return true;\r\n        },\r\n        set preserveDirectiveContent(val) {\r\n            shared.warn(getWarnMessage(9 /* NOT_SUPPORTED_PRESERVE_DIRECTIVE */));\r\n        },\r\n        // pluralizationRules\r\n        get pluralizationRules() {\r\n            return composer.pluralRules || {};\r\n        },\r\n        // for internal\r\n        __composer: composer,\r\n        // t\r\n        t(...args) {\r\n            const [arg1, arg2, arg3] = args;\r\n            const options = {};\r\n            let list = null;\r\n            let named = null;\r\n            if (!shared.isString(arg1)) {\r\n                throw createI18nError(15 /* INVALID_ARGUMENT */);\r\n            }\r\n            const key = arg1;\r\n            if (shared.isString(arg2)) {\r\n                options.locale = arg2;\r\n            }\r\n            else if (shared.isArray(arg2)) {\r\n                list = arg2;\r\n            }\r\n            else if (shared.isPlainObject(arg2)) {\r\n                named = arg2;\r\n            }\r\n            if (shared.isArray(arg3)) {\r\n                list = arg3;\r\n            }\r\n            else if (shared.isPlainObject(arg3)) {\r\n                named = arg3;\r\n            }\r\n            return composer.t(key, list || named || {}, options);\r\n        },\r\n        rt(...args) {\r\n            return composer.rt(...args);\r\n        },\r\n        // tc\r\n        tc(...args) {\r\n            const [arg1, arg2, arg3] = args;\r\n            const options = { plural: 1 };\r\n            let list = null;\r\n            let named = null;\r\n            if (!shared.isString(arg1)) {\r\n                throw createI18nError(15 /* INVALID_ARGUMENT */);\r\n            }\r\n            const key = arg1;\r\n            if (shared.isString(arg2)) {\r\n                options.locale = arg2;\r\n            }\r\n            else if (shared.isNumber(arg2)) {\r\n                options.plural = arg2;\r\n            }\r\n            else if (shared.isArray(arg2)) {\r\n                list = arg2;\r\n            }\r\n            else if (shared.isPlainObject(arg2)) {\r\n                named = arg2;\r\n            }\r\n            if (shared.isString(arg3)) {\r\n                options.locale = arg3;\r\n            }\r\n            else if (shared.isArray(arg3)) {\r\n                list = arg3;\r\n            }\r\n            else if (shared.isPlainObject(arg3)) {\r\n                named = arg3;\r\n            }\r\n            return composer.t(key, list || named || {}, options);\r\n        },\r\n        // te\r\n        te(key, locale) {\r\n            return composer.te(key, locale);\r\n        },\r\n        // tm\r\n        tm(key) {\r\n            return composer.tm(key);\r\n        },\r\n        // getLocaleMessage\r\n        getLocaleMessage(locale) {\r\n            return composer.getLocaleMessage(locale);\r\n        },\r\n        // setLocaleMessage\r\n        setLocaleMessage(locale, message) {\r\n            composer.setLocaleMessage(locale, message);\r\n        },\r\n        // mergeLocaleMessage\r\n        mergeLocaleMessage(locale, message) {\r\n            composer.mergeLocaleMessage(locale, message);\r\n        },\r\n        // d\r\n        d(...args) {\r\n            return composer.d(...args);\r\n        },\r\n        // getDateTimeFormat\r\n        getDateTimeFormat(locale) {\r\n            return composer.getDateTimeFormat(locale);\r\n        },\r\n        // setDateTimeFormat\r\n        setDateTimeFormat(locale, format) {\r\n            composer.setDateTimeFormat(locale, format);\r\n        },\r\n        // mergeDateTimeFormat\r\n        mergeDateTimeFormat(locale, format) {\r\n            composer.mergeDateTimeFormat(locale, format);\r\n        },\r\n        // n\r\n        n(...args) {\r\n            return composer.n(...args);\r\n        },\r\n        // getNumberFormat\r\n        getNumberFormat(locale) {\r\n            return composer.getNumberFormat(locale);\r\n        },\r\n        // setNumberFormat\r\n        setNumberFormat(locale, format) {\r\n            composer.setNumberFormat(locale, format);\r\n        },\r\n        // mergeNumberFormat\r\n        mergeNumberFormat(locale, format) {\r\n            composer.mergeNumberFormat(locale, format);\r\n        },\r\n        // getChoiceIndex\r\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n        getChoiceIndex(choice, choicesLength) {\r\n            shared.warn(getWarnMessage(10 /* NOT_SUPPORTED_GET_CHOICE_INDEX */));\r\n            return -1;\r\n        },\r\n        // for internal\r\n        __onComponentInstanceCreated(target) {\r\n            const { componentInstanceCreatedListener } = options;\r\n            if (componentInstanceCreatedListener) {\r\n                componentInstanceCreatedListener(target, vueI18n);\r\n            }\r\n        }\r\n    };\r\n    // for vue-devtools timeline event\r\n    {\r\n        vueI18n.__enableEmitter = (emitter) => {\r\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n            const __composer = composer;\r\n            __composer[EnableEmitter] && __composer[EnableEmitter](emitter);\r\n        };\r\n        vueI18n.__disableEmitter = () => {\r\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n            const __composer = composer;\r\n            __composer[DisableEmitter] && __composer[DisableEmitter]();\r\n        };\r\n    }\r\n    return vueI18n;\r\n}\n\nconst baseFormatProps = {\r\n    tag: {\r\n        type: [String, Object]\r\n    },\r\n    locale: {\r\n        type: String\r\n    },\r\n    scope: {\r\n        type: String,\r\n        validator: (val) => val === 'parent' || val === 'global',\r\n        default: 'parent'\r\n    },\r\n    i18n: {\r\n        type: Object\r\n    }\r\n};\n\n/**\r\n * Translation Component\r\n *\r\n * @remarks\r\n * See the following items for property about details\r\n *\r\n * @VueI18nSee [TranslationProps](component#translationprops)\r\n * @VueI18nSee [BaseFormatProps](component#baseformatprops)\r\n * @VueI18nSee [Component Interpolation](../guide/advanced/component)\r\n *\r\n * @example\r\n * ```html\r\n * <div id=\"app\">\r\n *   <!-- ... -->\r\n *   <i18n path=\"term\" tag=\"label\" for=\"tos\">\r\n *     <a :href=\"url\" target=\"_blank\">{{ $t('tos') }}</a>\r\n *   </i18n>\r\n *   <!-- ... -->\r\n * </div>\r\n * ```\r\n * ```js\r\n * import { createApp } from 'vue'\r\n * import { createI18n } from 'vue-i18n'\r\n *\r\n * const messages = {\r\n *   en: {\r\n *     tos: 'Term of Service',\r\n *     term: 'I accept xxx {0}.'\r\n *   },\r\n *   ja: {\r\n *     tos: '利用規約',\r\n *     term: '私は xxx の{0}に同意します。'\r\n *   }\r\n * }\r\n *\r\n * const i18n = createI18n({\r\n *   locale: 'en',\r\n *   messages\r\n * })\r\n *\r\n * const app = createApp({\r\n *   data: {\r\n *     url: '/term'\r\n *   }\r\n * }).use(i18n).mount('#app')\r\n * ```\r\n *\r\n * @VueI18nComponent\r\n */\r\nconst Translation = {\r\n    /* eslint-disable */\r\n    name: 'i18n-t',\r\n    props: shared.assign({\r\n        keypath: {\r\n            type: String,\r\n            required: true\r\n        },\r\n        plural: {\r\n            type: [Number, String],\r\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n            validator: (val) => shared.isNumber(val) || !isNaN(val)\r\n        }\r\n    }, baseFormatProps),\r\n    /* eslint-enable */\r\n    setup(props, context) {\r\n        const { slots, attrs } = context;\r\n        const i18n = props.i18n ||\r\n            useI18n({\r\n                useScope: props.scope,\r\n                __useComponent: true\r\n            });\r\n        const keys = Object.keys(slots).filter(key => key !== '_');\r\n        return () => {\r\n            const options = {};\r\n            if (props.locale) {\r\n                options.locale = props.locale;\r\n            }\r\n            if (props.plural !== undefined) {\r\n                options.plural = shared.isString(props.plural) ? +props.plural : props.plural;\r\n            }\r\n            const arg = getInterpolateArg(context, keys);\r\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n            const children = i18n[TransrateVNodeSymbol](props.keypath, arg, options);\r\n            const assignedAttrs = shared.assign({}, attrs);\r\n            // prettier-ignore\r\n            return shared.isString(props.tag)\r\n                ? vue.h(props.tag, assignedAttrs, children)\r\n                : shared.isObject(props.tag)\r\n                    ? vue.h(props.tag, assignedAttrs, children)\r\n                    : vue.h(vue.Fragment, assignedAttrs, children);\r\n        };\r\n    }\r\n};\r\nfunction getInterpolateArg({ slots }, keys) {\r\n    if (keys.length === 1 && keys[0] === 'default') {\r\n        // default slot only\r\n        return slots.default ? slots.default() : [];\r\n    }\r\n    else {\r\n        // named slots\r\n        return keys.reduce((arg, key) => {\r\n            const slot = slots[key];\r\n            if (slot) {\r\n                arg[key] = slot();\r\n            }\r\n            return arg;\r\n        }, {});\r\n    }\r\n}\n\nfunction renderFormatter(props, context, slotKeys, partFormatter) {\r\n    const { slots, attrs } = context;\r\n    return () => {\r\n        const options = { part: true };\r\n        let overrides = {};\r\n        if (props.locale) {\r\n            options.locale = props.locale;\r\n        }\r\n        if (shared.isString(props.format)) {\r\n            options.key = props.format;\r\n        }\r\n        else if (shared.isObject(props.format)) {\r\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n            if (shared.isString(props.format.key)) {\r\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n                options.key = props.format.key;\r\n            }\r\n            // Filter out number format options only\r\n            overrides = Object.keys(props.format).reduce((options, prop) => {\r\n                return slotKeys.includes(prop)\r\n                    ? shared.assign({}, options, { [prop]: props.format[prop] }) // eslint-disable-line @typescript-eslint/no-explicit-any\r\n                    : options;\r\n            }, {});\r\n        }\r\n        const parts = partFormatter(...[props.value, options, overrides]);\r\n        let children = [options.key];\r\n        if (shared.isArray(parts)) {\r\n            children = parts.map((part, index) => {\r\n                const slot = slots[part.type];\r\n                return slot\r\n                    ? slot({ [part.type]: part.value, index, parts })\r\n                    : [part.value];\r\n            });\r\n        }\r\n        else if (shared.isString(parts)) {\r\n            children = [parts];\r\n        }\r\n        const assignedAttrs = shared.assign({}, attrs);\r\n        // prettier-ignore\r\n        return shared.isString(props.tag)\r\n            ? vue.h(props.tag, assignedAttrs, children)\r\n            : shared.isObject(props.tag)\r\n                ? vue.h(props.tag, assignedAttrs, children)\r\n                : vue.h(vue.Fragment, assignedAttrs, children);\r\n    };\r\n}\n\nconst NUMBER_FORMAT_KEYS = [\r\n    'localeMatcher',\r\n    'style',\r\n    'unit',\r\n    'unitDisplay',\r\n    'currency',\r\n    'currencyDisplay',\r\n    'useGrouping',\r\n    'numberingSystem',\r\n    'minimumIntegerDigits',\r\n    'minimumFractionDigits',\r\n    'maximumFractionDigits',\r\n    'minimumSignificantDigits',\r\n    'maximumSignificantDigits',\r\n    'notation',\r\n    'formatMatcher'\r\n];\r\n/**\r\n * Number Format Component\r\n *\r\n * @remarks\r\n * See the following items for property about details\r\n *\r\n * @VueI18nSee [FormattableProps](component#formattableprops)\r\n * @VueI18nSee [BaseFormatProps](component#baseformatprops)\r\n * @VueI18nSee [Custom Formatting](../guide/essentials/number#custom-formatting)\r\n *\r\n * @VueI18nDanger\r\n * Not supported IE, due to no support `Intl.NumberFormat#formatToParts` in [IE](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/NumberFormat/formatToParts)\r\n *\r\n * If you want to use it, you need to use [polyfill](https://github.com/formatjs/formatjs/tree/main/packages/intl-numberformat)\r\n *\r\n * @VueI18nComponent\r\n */\r\nconst NumberFormat = {\r\n    /* eslint-disable */\r\n    name: 'i18n-n',\r\n    props: shared.assign({\r\n        value: {\r\n            type: Number,\r\n            required: true\r\n        },\r\n        format: {\r\n            type: [String, Object]\r\n        }\r\n    }, baseFormatProps),\r\n    /* eslint-enable */\r\n    setup(props, context) {\r\n        const i18n = props.i18n ||\r\n            useI18n({ useScope: 'parent', __useComponent: true });\r\n        return renderFormatter(props, context, NUMBER_FORMAT_KEYS, (...args) => \r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        i18n[NumberPartsSymbol](...args));\r\n    }\r\n};\n\nconst DATETIME_FORMAT_KEYS = [\r\n    'dateStyle',\r\n    'timeStyle',\r\n    'fractionalSecondDigits',\r\n    'calendar',\r\n    'dayPeriod',\r\n    'numberingSystem',\r\n    'localeMatcher',\r\n    'timeZone',\r\n    'hour12',\r\n    'hourCycle',\r\n    'formatMatcher',\r\n    'weekday',\r\n    'era',\r\n    'year',\r\n    'month',\r\n    'day',\r\n    'hour',\r\n    'minute',\r\n    'second',\r\n    'timeZoneName'\r\n];\r\n/**\r\n * Datetime Format Component\r\n *\r\n * @remarks\r\n * See the following items for property about details\r\n *\r\n * @VueI18nSee [FormattableProps](component#formattableprops)\r\n * @VueI18nSee [BaseFormatProps](component#baseformatprops)\r\n * @VueI18nSee [Custom Formatting](../guide/essentials/datetime#custom-formatting)\r\n *\r\n * @VueI18nDanger\r\n * Not supported IE, due to no support `Intl.DateTimeFormat#formatToParts` in [IE](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/DateTimeFormat/formatToParts)\r\n *\r\n * If you want to use it, you need to use [polyfill](https://github.com/formatjs/formatjs/tree/main/packages/intl-datetimeformat)\r\n *\r\n * @VueI18nComponent\r\n */\r\nconst DatetimeFormat = {\r\n    /* eslint-disable */\r\n    name: 'i18n-d',\r\n    props: shared.assign({\r\n        value: {\r\n            type: [Number, Date],\r\n            required: true\r\n        },\r\n        format: {\r\n            type: [String, Object]\r\n        }\r\n    }, baseFormatProps),\r\n    /* eslint-enable */\r\n    setup(props, context) {\r\n        const i18n = props.i18n ||\r\n            useI18n({ useScope: 'parent', __useComponent: true });\r\n        return renderFormatter(props, context, DATETIME_FORMAT_KEYS, (...args) => \r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        i18n[DatetimePartsSymbol](...args));\r\n    }\r\n};\n\nfunction getComposer$1(i18n, instance) {\r\n    const i18nInternal = i18n;\r\n    if (i18n.mode === 'composition') {\r\n        return (i18nInternal.__getInstance(instance) || i18n.global);\r\n    }\r\n    else {\r\n        const vueI18n = i18nInternal.__getInstance(instance);\r\n        return vueI18n != null\r\n            ? vueI18n.__composer\r\n            : i18n.global.__composer;\r\n    }\r\n}\r\nfunction vTDirective(i18n) {\r\n    const bind = (el, { instance, value, modifiers }) => {\r\n        /* istanbul ignore if */\r\n        if (!instance || !instance.$) {\r\n            throw createI18nError(22 /* UNEXPECTED_ERROR */);\r\n        }\r\n        const composer = getComposer$1(i18n, instance.$);\r\n        if (modifiers.preserve) {\r\n            shared.warn(getWarnMessage(7 /* NOT_SUPPORTED_PRESERVE */));\r\n        }\r\n        const parsedValue = parseValue(value);\r\n        el.textContent = composer.t(...makeParams(parsedValue));\r\n    };\r\n    return {\r\n        beforeMount: bind,\r\n        beforeUpdate: bind\r\n    };\r\n}\r\nfunction parseValue(value) {\r\n    if (shared.isString(value)) {\r\n        return { path: value };\r\n    }\r\n    else if (shared.isPlainObject(value)) {\r\n        if (!('path' in value)) {\r\n            throw createI18nError(19 /* REQUIRED_VALUE */, 'path');\r\n        }\r\n        return value;\r\n    }\r\n    else {\r\n        throw createI18nError(20 /* INVALID_VALUE */);\r\n    }\r\n}\r\nfunction makeParams(value) {\r\n    const { path, locale, args, choice, plural } = value;\r\n    const options = {};\r\n    const named = args || {};\r\n    if (shared.isString(locale)) {\r\n        options.locale = locale;\r\n    }\r\n    if (shared.isNumber(choice)) {\r\n        options.plural = choice;\r\n    }\r\n    if (shared.isNumber(plural)) {\r\n        options.plural = plural;\r\n    }\r\n    return [path, named, options];\r\n}\n\nfunction apply(app, i18n, ...options) {\r\n    const pluginOptions = shared.isPlainObject(options[0])\r\n        ? options[0]\r\n        : {};\r\n    const useI18nComponentName = !!pluginOptions.useI18nComponentName;\r\n    const globalInstall = shared.isBoolean(pluginOptions.globalInstall)\r\n        ? pluginOptions.globalInstall\r\n        : true;\r\n    if (globalInstall && useI18nComponentName) {\r\n        shared.warn(getWarnMessage(11 /* COMPONENT_NAME_LEGACY_COMPATIBLE */, {\r\n            name: Translation.name\r\n        }));\r\n    }\r\n    if (globalInstall) {\r\n        // install components\r\n        app.component(!useI18nComponentName ? Translation.name : 'i18n', Translation);\r\n        app.component(NumberFormat.name, NumberFormat);\r\n        app.component(DatetimeFormat.name, DatetimeFormat);\r\n    }\r\n    // install directive\r\n    app.directive('t', vTDirective(i18n));\r\n}\n\n// supports compatibility for legacy vue-i18n APIs\r\nfunction defineMixin(vuei18n, composer, i18n) {\r\n    return {\r\n        beforeCreate() {\r\n            const instance = vue.getCurrentInstance();\r\n            /* istanbul ignore if */\r\n            if (!instance) {\r\n                throw createI18nError(22 /* UNEXPECTED_ERROR */);\r\n            }\r\n            const options = this.$options;\r\n            if (options.i18n) {\r\n                const optionsI18n = options.i18n;\r\n                if (options.__i18n) {\r\n                    optionsI18n.__i18n = options.__i18n;\r\n                }\r\n                optionsI18n.__root = composer;\r\n                if (this === this.$root) {\r\n                    this.$i18n = mergeToRoot(vuei18n, optionsI18n);\r\n                }\r\n                else {\r\n                    optionsI18n.__injectWithOption = true;\r\n                    this.$i18n = createVueI18n(optionsI18n);\r\n                }\r\n            }\r\n            else if (options.__i18n) {\r\n                if (this === this.$root) {\r\n                    this.$i18n = mergeToRoot(vuei18n, options);\r\n                }\r\n                else {\r\n                    this.$i18n = createVueI18n({\r\n                        __i18n: options.__i18n,\r\n                        __injectWithOption: true,\r\n                        __root: composer\r\n                    });\r\n                }\r\n            }\r\n            else {\r\n                // set global\r\n                this.$i18n = vuei18n;\r\n            }\r\n            vuei18n.__onComponentInstanceCreated(this.$i18n);\r\n            i18n.__setInstance(instance, this.$i18n);\r\n            // defines vue-i18n legacy APIs\r\n            this.$t = (...args) => this.$i18n.t(...args);\r\n            this.$rt = (...args) => this.$i18n.rt(...args);\r\n            this.$tc = (...args) => this.$i18n.tc(...args);\r\n            this.$te = (key, locale) => this.$i18n.te(key, locale);\r\n            this.$d = (...args) => this.$i18n.d(...args);\r\n            this.$n = (...args) => this.$i18n.n(...args);\r\n            this.$tm = (key) => this.$i18n.tm(key);\r\n        },\r\n        mounted() {\r\n        },\r\n        beforeUnmount() {\r\n            const instance = vue.getCurrentInstance();\r\n            /* istanbul ignore if */\r\n            if (!instance) {\r\n                throw createI18nError(22 /* UNEXPECTED_ERROR */);\r\n            }\r\n            delete this.$t;\r\n            delete this.$rt;\r\n            delete this.$tc;\r\n            delete this.$te;\r\n            delete this.$d;\r\n            delete this.$n;\r\n            delete this.$tm;\r\n            i18n.__deleteInstance(instance);\r\n            delete this.$i18n;\r\n        }\r\n    };\r\n}\r\nfunction mergeToRoot(root, options) {\r\n    root.locale = options.locale || root.locale;\r\n    root.fallbackLocale = options.fallbackLocale || root.fallbackLocale;\r\n    root.missing = options.missing || root.missing;\r\n    root.silentTranslationWarn =\r\n        options.silentTranslationWarn || root.silentFallbackWarn;\r\n    root.silentFallbackWarn =\r\n        options.silentFallbackWarn || root.silentFallbackWarn;\r\n    root.formatFallbackMessages =\r\n        options.formatFallbackMessages || root.formatFallbackMessages;\r\n    root.postTranslation = options.postTranslation || root.postTranslation;\r\n    root.warnHtmlInMessage = options.warnHtmlInMessage || root.warnHtmlInMessage;\r\n    root.escapeParameterHtml =\r\n        options.escapeParameterHtml || root.escapeParameterHtml;\r\n    root.sync = options.sync || root.sync;\r\n    root.__composer[SetPluralRulesSymbol](options.pluralizationRules || root.pluralizationRules);\r\n    const messages = getLocaleMessages(root.locale, {\r\n        messages: options.messages,\r\n        __i18n: options.__i18n\r\n    });\r\n    Object.keys(messages).forEach(locale => root.mergeLocaleMessage(locale, messages[locale]));\r\n    if (options.datetimeFormats) {\r\n        Object.keys(options.datetimeFormats).forEach(locale => root.mergeDateTimeFormat(locale, options.datetimeFormats[locale]));\r\n    }\r\n    if (options.numberFormats) {\r\n        Object.keys(options.numberFormats).forEach(locale => root.mergeNumberFormat(locale, options.numberFormats[locale]));\r\n    }\r\n    return root;\r\n}\n\n/**\r\n * Vue I18n factory\r\n *\r\n * @param options - An options, see the {@link I18nOptions}\r\n *\r\n * @returns {@link I18n} instance\r\n *\r\n * @remarks\r\n * If you use Legacy API mode, you need toto specify {@link VueI18nOptions} and `legacy: true` option.\r\n *\r\n * If you use composition API mode, you need to specify {@link ComposerOptions}.\r\n *\r\n * @VueI18nSee [Getting Started](../guide/)\r\n * @VueI18nSee [Composition API](../guide/advanced/composition)\r\n *\r\n * @example\r\n * case: for Legacy API\r\n * ```js\r\n * import { createApp } from 'vue'\r\n * import { createI18n } from 'vue-i18n'\r\n *\r\n * // call with I18n option\r\n * const i18n = createI18n({\r\n *   locale: 'ja',\r\n *   messages: {\r\n *     en: { ... },\r\n *     ja: { ... }\r\n *   }\r\n * })\r\n *\r\n * const App = {\r\n *   // ...\r\n * }\r\n *\r\n * const app = createApp(App)\r\n *\r\n * // install!\r\n * app.use(i18n)\r\n * app.mount('#app')\r\n * ```\r\n *\r\n * @example\r\n * case: for composition API\r\n * ```js\r\n * import { createApp } from 'vue'\r\n * import { createI18n, useI18n } from 'vue-i18n'\r\n *\r\n * // call with I18n option\r\n * const i18n = createI18n({\r\n *   legacy: false, // you must specify 'legacy: false' option\r\n *   locale: 'ja',\r\n *   messages: {\r\n *     en: { ... },\r\n *     ja: { ... }\r\n *   }\r\n * })\r\n *\r\n * const App = {\r\n *   setup() {\r\n *     // ...\r\n *     const { t } = useI18n({ ... })\r\n *     return { ... , t }\r\n *   }\r\n * }\r\n *\r\n * const app = createApp(App)\r\n *\r\n * // install!\r\n * app.use(i18n)\r\n * app.mount('#app')\r\n * ```\r\n *\r\n * @VueI18nGeneral\r\n */\r\nfunction createI18n(options = {}) {\r\n    // prettier-ignore\r\n    const __legacyMode = shared.isBoolean(options.legacy)\r\n        ? options.legacy\r\n        : true;\r\n    const __globalInjection = !!options.globalInjection;\r\n    const __instances = new Map();\r\n    // prettier-ignore\r\n    const __global = __legacyMode\r\n        ? createVueI18n(options)\r\n        : createComposer(options);\r\n    const symbol = shared.makeSymbol('vue-i18n' );\r\n    const i18n = {\r\n        // mode\r\n        get mode() {\r\n            // prettier-ignore\r\n            return __legacyMode\r\n                    ? 'legacy'\r\n                    : 'composition'\r\n                ;\r\n        },\r\n        // install plugin\r\n        async install(app, ...options) {\r\n            // setup global provider\r\n            app.__VUE_I18N_SYMBOL__ = symbol;\r\n            app.provide(app.__VUE_I18N_SYMBOL__, i18n);\r\n            // global method and properties injection for Composition API\r\n            if (!__legacyMode && __globalInjection) {\r\n                injectGlobalFields(app, i18n.global);\r\n            }\r\n            // install built-in components and directive\r\n            {\r\n                apply(app, i18n, ...options);\r\n            }\r\n            // setup mixin for Legacy API\r\n            if (__legacyMode) {\r\n                app.mixin(defineMixin(__global, __global.__composer, i18n));\r\n            }\r\n        },\r\n        // global accessor\r\n        get global() {\r\n            return __global;\r\n        },\r\n        // @internal\r\n        __instances,\r\n        // @internal\r\n        __getInstance(component) {\r\n            return __instances.get(component) || null;\r\n        },\r\n        // @internal\r\n        __setInstance(component, instance) {\r\n            __instances.set(component, instance);\r\n        },\r\n        // @internal\r\n        __deleteInstance(component) {\r\n            __instances.delete(component);\r\n        }\r\n    };\r\n    return i18n;\r\n}\r\n/**\r\n * Use Composition API for Vue I18n\r\n *\r\n * @param options - An options, see {@link UseI18nOptions}\r\n *\r\n * @returns {@link Composer} instance\r\n *\r\n * @remarks\r\n * This function is mainly used by `setup`.\r\n *\r\n * If options are specified, Composer instance is created for each component and you can be localized on the component.\r\n *\r\n * If options are not specified, you can be localized using the global Composer.\r\n *\r\n * @example\r\n * case: Component resource base localization\r\n * ```html\r\n * <template>\r\n *   <form>\r\n *     <label>{{ t('language') }}</label>\r\n *     <select v-model=\"locale\">\r\n *       <option value=\"en\">en</option>\r\n *       <option value=\"ja\">ja</option>\r\n *     </select>\r\n *   </form>\r\n *   <p>message: {{ t('hello') }}</p>\r\n * </template>\r\n *\r\n * <script>\r\n * import { useI18n } from 'vue-i18n'\r\n *\r\n * export default {\r\n *  setup() {\r\n *    const { t, locale } = useI18n({\r\n *      locale: 'ja',\r\n *      messages: {\r\n *        en: { ... },\r\n *        ja: { ... }\r\n *      }\r\n *    })\r\n *    // Something to do ...\r\n *\r\n *    return { ..., t, locale }\r\n *  }\r\n * }\r\n * </script>\r\n * ```\r\n *\r\n * @VueI18nComposition\r\n */\r\nfunction useI18n(options = {}) {\r\n    const instance = vue.getCurrentInstance();\r\n    if (instance == null) {\r\n        throw createI18nError(16 /* MUST_BE_CALL_SETUP_TOP */);\r\n    }\r\n    if (!instance.appContext.app.__VUE_I18N_SYMBOL__) {\r\n        throw createI18nError(17 /* NOT_INSLALLED */);\r\n    }\r\n    const i18n = vue.inject(instance.appContext.app.__VUE_I18N_SYMBOL__);\r\n    /* istanbul ignore if */\r\n    if (!i18n) {\r\n        throw createI18nError(22 /* UNEXPECTED_ERROR */);\r\n    }\r\n    // prettier-ignore\r\n    const global = i18n.mode === 'composition'\r\n        ? i18n.global\r\n        : i18n.global.__composer;\r\n    // prettier-ignore\r\n    const scope = shared.isEmptyObject(options)\r\n        ? ('__i18n' in instance.type)\r\n            ? 'local'\r\n            : 'global'\r\n        : !options.useScope\r\n            ? 'local'\r\n            : options.useScope;\r\n    if (scope === 'global') {\r\n        let messages = shared.isObject(options.messages) ? options.messages : {};\r\n        if ('__i18nGlobal' in instance.type) {\r\n            messages = getLocaleMessages(global.locale.value, {\r\n                messages,\r\n                __i18n: instance.type.__i18nGlobal\r\n            });\r\n        }\r\n        // merge locale messages\r\n        const locales = Object.keys(messages);\r\n        if (locales.length) {\r\n            locales.forEach(locale => {\r\n                global.mergeLocaleMessage(locale, messages[locale]);\r\n            });\r\n        }\r\n        // merge datetime formats\r\n        if (shared.isObject(options.datetimeFormats)) {\r\n            const locales = Object.keys(options.datetimeFormats);\r\n            if (locales.length) {\r\n                locales.forEach(locale => {\r\n                    global.mergeDateTimeFormat(locale, options.datetimeFormats[locale]);\r\n                });\r\n            }\r\n        }\r\n        // merge number formats\r\n        if (shared.isObject(options.numberFormats)) {\r\n            const locales = Object.keys(options.numberFormats);\r\n            if (locales.length) {\r\n                locales.forEach(locale => {\r\n                    global.mergeNumberFormat(locale, options.numberFormats[locale]);\r\n                });\r\n            }\r\n        }\r\n        return global;\r\n    }\r\n    if (scope === 'parent') {\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        let composer = getComposer(i18n, instance, options.__useComponent);\r\n        if (composer == null) {\r\n            {\r\n                shared.warn(getWarnMessage(12 /* NOT_FOUND_PARENT_SCOPE */));\r\n            }\r\n            composer = global;\r\n        }\r\n        return composer;\r\n    }\r\n    // scope 'local' case\r\n    if (i18n.mode === 'legacy') {\r\n        throw createI18nError(18 /* NOT_AVAILABLE_IN_LEGACY_MODE */);\r\n    }\r\n    const i18nInternal = i18n;\r\n    let composer = i18nInternal.__getInstance(instance);\r\n    if (composer == null) {\r\n        const type = instance.type;\r\n        const composerOptions = shared.assign({}, options);\r\n        if (type.__i18n) {\r\n            composerOptions.__i18n = type.__i18n;\r\n        }\r\n        if (global) {\r\n            composerOptions.__root = global;\r\n        }\r\n        composer = createComposer(composerOptions);\r\n        setupLifeCycle(i18nInternal, instance);\r\n        i18nInternal.__setInstance(instance, composer);\r\n    }\r\n    return composer;\r\n}\r\nfunction getComposer(i18n, target, useComponent = false) {\r\n    let composer = null;\r\n    const root = target.root;\r\n    let current = target.parent;\r\n    while (current != null) {\r\n        const i18nInternal = i18n;\r\n        if (i18n.mode === 'composition') {\r\n            composer = i18nInternal.__getInstance(current);\r\n        }\r\n        else {\r\n            const vueI18n = i18nInternal.__getInstance(current);\r\n            if (vueI18n != null) {\r\n                composer = vueI18n\r\n                    .__composer;\r\n            }\r\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n            if (useComponent && composer && !composer[InejctWithOption]) {\r\n                composer = null;\r\n            }\r\n        }\r\n        if (composer != null) {\r\n            break;\r\n        }\r\n        if (root === current) {\r\n            break;\r\n        }\r\n        current = current.parent;\r\n    }\r\n    return composer;\r\n}\r\nfunction setupLifeCycle(i18n, target, composer) {\r\n    vue.onMounted(() => {\r\n    }, target);\r\n    vue.onUnmounted(() => {\r\n        i18n.__deleteInstance(target);\r\n    }, target);\r\n}\r\nconst globalExportProps = [\r\n    'locale',\r\n    'fallbackLocale',\r\n    'availableLocales'\r\n];\r\nconst globalExportMethods = ['t', 'rt', 'd', 'n', 'tm'];\r\nfunction injectGlobalFields(app, composer) {\r\n    const i18n = Object.create(null);\r\n    globalExportProps.forEach(prop => {\r\n        const desc = Object.getOwnPropertyDescriptor(composer, prop);\r\n        if (!desc) {\r\n            throw createI18nError(22 /* UNEXPECTED_ERROR */);\r\n        }\r\n        const wrap = vue.isRef(desc.value) // check computed props\r\n            ? {\r\n                get() {\r\n                    return desc.value.value;\r\n                },\r\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n                set(val) {\r\n                    desc.value.value = val;\r\n                }\r\n            }\r\n            : {\r\n                get() {\r\n                    return desc.get && desc.get();\r\n                }\r\n            };\r\n        Object.defineProperty(i18n, prop, wrap);\r\n    });\r\n    app.config.globalProperties.$i18n = i18n;\r\n    globalExportMethods.forEach(method => {\r\n        const desc = Object.getOwnPropertyDescriptor(composer, method);\r\n        if (!desc || !desc.value) {\r\n            throw createI18nError(22 /* UNEXPECTED_ERROR */);\r\n        }\r\n        Object.defineProperty(app.config.globalProperties, `$${method}`, desc);\r\n    });\r\n}\n\n// register message compiler at vue-i18n\r\ncoreBase.registerMessageCompiler(coreBase.compileToFunction);\r\n// NOTE: experimental !!\r\n{\r\n    const target = shared.getGlobalThis();\r\n    target.__INTLIFY__ = true;\r\n    coreBase.setDevToolsHook(target.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__);\r\n}\n\nexports.DatetimeFormat = DatetimeFormat;\nexports.NumberFormat = NumberFormat;\nexports.Translation = Translation;\nexports.VERSION = VERSION;\nexports.createI18n = createI18n;\nexports.useI18n = useI18n;\nexports.vTDirective = vTDirective;\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}