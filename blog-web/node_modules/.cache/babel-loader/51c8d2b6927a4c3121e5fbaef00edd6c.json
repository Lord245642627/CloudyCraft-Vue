{"ast":null,"code":"import * as _ from 'lodash-es';\nexport { floydWarshall };\n\nvar DEFAULT_WEIGHT_FUNC = _.constant(1);\n\nfunction floydWarshall(g, weightFn, edgeFn) {\n  return runFloydWarshall(g, weightFn || DEFAULT_WEIGHT_FUNC, edgeFn || function (v) {\n    return g.outEdges(v);\n  });\n}\n\nfunction runFloydWarshall(g, weightFn, edgeFn) {\n  var results = {};\n  var nodes = g.nodes();\n  nodes.forEach(function (v) {\n    results[v] = {};\n    results[v][v] = {\n      distance: 0\n    };\n    nodes.forEach(function (w) {\n      if (v !== w) {\n        results[v][w] = {\n          distance: Number.POSITIVE_INFINITY\n        };\n      }\n    });\n    edgeFn(v).forEach(function (edge) {\n      var w = edge.v === v ? edge.w : edge.v;\n      var d = weightFn(edge);\n      results[v][w] = {\n        distance: d,\n        predecessor: v\n      };\n    });\n  });\n  nodes.forEach(function (k) {\n    var rowK = results[k];\n    nodes.forEach(function (i) {\n      var rowI = results[i];\n      nodes.forEach(function (j) {\n        var ik = rowI[k];\n        var kj = rowK[j];\n        var ij = rowI[j];\n        var altDistance = ik.distance + kj.distance;\n\n        if (altDistance < ij.distance) {\n          ij.distance = altDistance;\n          ij.predecessor = kj.predecessor;\n        }\n      });\n    });\n  });\n  return results;\n}","map":{"version":3,"names":["_","floydWarshall","DEFAULT_WEIGHT_FUNC","constant","g","weightFn","edgeFn","runFloydWarshall","v","outEdges","results","nodes","forEach","distance","w","Number","POSITIVE_INFINITY","edge","d","predecessor","k","rowK","i","rowI","j","ik","kj","ij","altDistance"],"sources":["/Users/lord/Documents/Programmer/vue/VueProjects/blog-vue/blog-web/node_modules/dagre-d3-es/src/graphlib/alg/floyd-warshall.js"],"sourcesContent":["import * as _ from 'lodash-es';\n\nexport { floydWarshall };\n\nvar DEFAULT_WEIGHT_FUNC = _.constant(1);\n\nfunction floydWarshall(g, weightFn, edgeFn) {\n  return runFloydWarshall(\n    g,\n    weightFn || DEFAULT_WEIGHT_FUNC,\n    edgeFn ||\n      function (v) {\n        return g.outEdges(v);\n      }\n  );\n}\n\nfunction runFloydWarshall(g, weightFn, edgeFn) {\n  var results = {};\n  var nodes = g.nodes();\n\n  nodes.forEach(function (v) {\n    results[v] = {};\n    results[v][v] = { distance: 0 };\n    nodes.forEach(function (w) {\n      if (v !== w) {\n        results[v][w] = { distance: Number.POSITIVE_INFINITY };\n      }\n    });\n    edgeFn(v).forEach(function (edge) {\n      var w = edge.v === v ? edge.w : edge.v;\n      var d = weightFn(edge);\n      results[v][w] = { distance: d, predecessor: v };\n    });\n  });\n\n  nodes.forEach(function (k) {\n    var rowK = results[k];\n    nodes.forEach(function (i) {\n      var rowI = results[i];\n      nodes.forEach(function (j) {\n        var ik = rowI[k];\n        var kj = rowK[j];\n        var ij = rowI[j];\n        var altDistance = ik.distance + kj.distance;\n        if (altDistance < ij.distance) {\n          ij.distance = altDistance;\n          ij.predecessor = kj.predecessor;\n        }\n      });\n    });\n  });\n\n  return results;\n}\n"],"mappings":"AAAA,OAAO,KAAKA,CAAZ,MAAmB,WAAnB;AAEA,SAASC,aAAT;;AAEA,IAAIC,mBAAmB,GAAGF,CAAC,CAACG,QAAF,CAAW,CAAX,CAA1B;;AAEA,SAASF,aAAT,CAAuBG,CAAvB,EAA0BC,QAA1B,EAAoCC,MAApC,EAA4C;EAC1C,OAAOC,gBAAgB,CACrBH,CADqB,EAErBC,QAAQ,IAAIH,mBAFS,EAGrBI,MAAM,IACJ,UAAUE,CAAV,EAAa;IACX,OAAOJ,CAAC,CAACK,QAAF,CAAWD,CAAX,CAAP;EACD,CANkB,CAAvB;AAQD;;AAED,SAASD,gBAAT,CAA0BH,CAA1B,EAA6BC,QAA7B,EAAuCC,MAAvC,EAA+C;EAC7C,IAAII,OAAO,GAAG,EAAd;EACA,IAAIC,KAAK,GAAGP,CAAC,CAACO,KAAF,EAAZ;EAEAA,KAAK,CAACC,OAAN,CAAc,UAAUJ,CAAV,EAAa;IACzBE,OAAO,CAACF,CAAD,CAAP,GAAa,EAAb;IACAE,OAAO,CAACF,CAAD,CAAP,CAAWA,CAAX,IAAgB;MAAEK,QAAQ,EAAE;IAAZ,CAAhB;IACAF,KAAK,CAACC,OAAN,CAAc,UAAUE,CAAV,EAAa;MACzB,IAAIN,CAAC,KAAKM,CAAV,EAAa;QACXJ,OAAO,CAACF,CAAD,CAAP,CAAWM,CAAX,IAAgB;UAAED,QAAQ,EAAEE,MAAM,CAACC;QAAnB,CAAhB;MACD;IACF,CAJD;IAKAV,MAAM,CAACE,CAAD,CAAN,CAAUI,OAAV,CAAkB,UAAUK,IAAV,EAAgB;MAChC,IAAIH,CAAC,GAAGG,IAAI,CAACT,CAAL,KAAWA,CAAX,GAAeS,IAAI,CAACH,CAApB,GAAwBG,IAAI,CAACT,CAArC;MACA,IAAIU,CAAC,GAAGb,QAAQ,CAACY,IAAD,CAAhB;MACAP,OAAO,CAACF,CAAD,CAAP,CAAWM,CAAX,IAAgB;QAAED,QAAQ,EAAEK,CAAZ;QAAeC,WAAW,EAAEX;MAA5B,CAAhB;IACD,CAJD;EAKD,CAbD;EAeAG,KAAK,CAACC,OAAN,CAAc,UAAUQ,CAAV,EAAa;IACzB,IAAIC,IAAI,GAAGX,OAAO,CAACU,CAAD,CAAlB;IACAT,KAAK,CAACC,OAAN,CAAc,UAAUU,CAAV,EAAa;MACzB,IAAIC,IAAI,GAAGb,OAAO,CAACY,CAAD,CAAlB;MACAX,KAAK,CAACC,OAAN,CAAc,UAAUY,CAAV,EAAa;QACzB,IAAIC,EAAE,GAAGF,IAAI,CAACH,CAAD,CAAb;QACA,IAAIM,EAAE,GAAGL,IAAI,CAACG,CAAD,CAAb;QACA,IAAIG,EAAE,GAAGJ,IAAI,CAACC,CAAD,CAAb;QACA,IAAII,WAAW,GAAGH,EAAE,CAACZ,QAAH,GAAca,EAAE,CAACb,QAAnC;;QACA,IAAIe,WAAW,GAAGD,EAAE,CAACd,QAArB,EAA+B;UAC7Bc,EAAE,CAACd,QAAH,GAAce,WAAd;UACAD,EAAE,CAACR,WAAH,GAAiBO,EAAE,CAACP,WAApB;QACD;MACF,CATD;IAUD,CAZD;EAaD,CAfD;EAiBA,OAAOT,OAAP;AACD"},"metadata":{},"sourceType":"module"}