"use strict";(self["webpackChunkblog_web"]=self["webpackChunkblog_web"]||[]).push([[495],{34495:function(t,e,a){a.r(e),a.d(e,{default:function(){return k}});var n=a(73396);const s=t=>((0,n.dD)("data-v-b470e5d6"),t=t(),(0,n.Cn)(),t),o={class:"oauth-background"},r=s((()=>(0,n._)("div",{id:"preloader_1"},[(0,n._)("span"),(0,n._)("span"),(0,n._)("span"),(0,n._)("span"),(0,n._)("span")],-1))),u=[r];function c(t,e,a,s,r,c){return(0,n.wg)(),(0,n.iD)("div",o,u)}var l=a(22483),d=a(83560),p=a(73286),h=(0,n.aZ)({name:"OauthLoginModel",setup(){const t=(0,n.FN)()?.appContext.config.globalProperties,e=(0,d.L)(),a=(0,l.yj)(),s=(0,l.tv)();let o={code:a.query.code,state:a.query.state};"/oauth/callback/gitee"===a.path?p.Z.giteeLogin(o).then((({data:a})=>{0===a.code&&(e.userInfo=a.data,e.token=a.data.token,sessionStorage.setItem("token",a.data.token),t.$notify({title:"Success",message:"登录成功",type:"success"})),""===e.currentUrl||null===e.currentUrl?s.push({path:"/"}):s.push({path:e.currentUrl})})):"/oauth/callback/github"===a.path?p.Z.githubLogin(o).then((({data:a})=>{0===a.code&&(e.userInfo=a.data,e.token=a.data.token,sessionStorage.setItem("token",a.data.token),t.$notify({title:"Success",message:"登录成功",type:"success"})),""===e.currentUrl||null===e.currentUrl?s.push({path:"/"}):s.push({path:e.currentUrl})})):"/oauth/callback/qq"===a.path&&p.Z.qqLogin(o).then((({data:a})=>{0===a.code&&(e.userInfo=a.data,e.token=a.data.token,sessionStorage.setItem("token",a.data.token),t.$notify({title:"Success",message:"登录成功",type:"success"})),""===e.currentUrl||null===e.currentUrl?s.push({path:"/"}):s.push({path:e.currentUrl})}))}}),i=a(40089);const g=(0,i.Z)(h,[["render",c],["__scopeId","data-v-b470e5d6"]]);var k=g}}]);